2020-12-03 11:33:03,487 root INFO Listening on port 5000..
2020-12-03 11:33:53,964 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 11:33:53,969 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 11:33:53,970 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 11:33:53,983 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 11:33:53,983 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 11:34:18,284 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 11:34:18,284 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 11:34:34,950 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 11:34:34,950 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 11:38:42,425 root INFO Listening on port 5000..
2020-12-03 11:38:46,973 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 11:38:46,978 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 11:38:46,978 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 11:38:47,027 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 11:38:47,027 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 11:39:36,049 root INFO Listening on port 5000..
2020-12-03 11:41:45,968 root INFO Listening on port 5000..
2020-12-03 13:25:07,716 root INFO Listening on port 5000..
2020-12-03 13:46:20,108 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 13:46:20,113 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 13:46:20,114 sqlalchemy.engine.base.Engine INFO {'id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'username': 'hatrang1', 'email': 'gAAAAABfyIm8Qj-rgNLM2D57Wft9aJF2cS3ASf70YyC6miVTzuDNhCzHPPyCltkJ9lQv-62a2xBG8kjzPrBIAyKswGgaUd0Vyw==', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 13, 46, 20, 113215), 'updated_at': datetime.datetime(2020, 12, 3, 13, 46, 20, 113422)}
2020-12-03 13:46:20,124 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 13:46:33,018 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 13:46:33,020 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 13:46:33,020 sqlalchemy.engine.base.Engine INFO {'id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 13:57:00,724 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 13:57:00,726 sqlalchemy.engine.base.Engine INFO {'id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 13:57:01,930 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 13:57:01,931 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 13:57:01,942 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 13:57:01,942 sqlalchemy.engine.base.Engine INFO {'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'device_id': 111, 'registration_id': 4905, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7f9ca9b53ab0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7f9ca9b53ae0>, 'signed_prekey_id': 5, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7f9ca9b53b10>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7f9ca9b53b40>, 'created_at': datetime.datetime(2020, 12, 3, 13, 57, 1, 942020), 'updated_at': datetime.datetime(2020, 12, 3, 13, 57, 1, 942054)}
2020-12-03 13:57:01,949 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 13:57:02,910 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 13:57:02,916 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 13:57:02,916 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 13:57:02,930 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 13:57:02,931 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 13:59:47,441 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 13:59:47,441 sqlalchemy.engine.base.Engine INFO {'id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'username': 'hatrang2', 'email': 'gAAAAABfyIzjPejCCvVpS9joEp5nTptCis8tqmsdKkonqJPj-xGJ7Ghw9_EjJdEqFuEUbo_AoH9kqgOIUZqh96HHpHydbDm4dQ==', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 13, 59, 47, 441355), 'updated_at': datetime.datetime(2020, 12, 3, 13, 59, 47, 441372)}
2020-12-03 13:59:47,446 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:08,794 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:08,796 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 14:00:08,797 sqlalchemy.engine.base.Engine INFO {'id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:00:08,962 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:08,962 sqlalchemy.engine.base.Engine INFO {'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:00:08,968 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 14:00:08,968 sqlalchemy.engine.base.Engine INFO {'client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'device_id': 111, 'registration_id': 3291, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7f9ca9b73fc0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7f9ca9b53de0>, 'signed_prekey_id': 5, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7f9ca9b53d80>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7f9ca9b5f780>, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 8, 968352), 'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 8, 968377)}
2020-12-03 14:00:08,973 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:09,276 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:09,278 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:09,279 sqlalchemy.engine.base.Engine INFO {'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:00:09,289 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 14:00:09,289 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 14:00:10,694 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 14:00:10,694 sqlalchemy.engine.base.Engine INFO {'id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:00:20,923 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 14:00:20,923 sqlalchemy.engine.base.Engine INFO {'id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_name': 'hatrang2,hatrang1', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 20, 922908), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 14:00:20,928 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:20,950 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:20,952 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:20,952 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:20,967 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:20,968 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:00:20,975 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 14:00:20,975 sqlalchemy.engine.base.Engine INFO {'group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 20, 974989), 'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 20, 975018)}
2020-12-03 14:00:20,980 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:20,991 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:20,993 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:20,994 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:21,005 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 14:00:21,005 sqlalchemy.engine.base.Engine INFO {'client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'ref_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'ref_group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 21, 4890)}
2020-12-03 14:00:21,011 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:21,025 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:21,029 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:21,030 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:21,039 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:21,039 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:00:21,043 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:21,045 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 14:00:21,047 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 14:00:21,048 sqlalchemy.engine.base.Engine INFO {'group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 21, 45217), 'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 21, 45238)}
2020-12-03 14:00:21,048 sqlalchemy.engine.base.Engine INFO {'param_1': 67}
2020-12-03 14:00:21,052 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:21,058 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:21,075 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:21,077 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:21,077 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:21,086 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 14:00:21,086 sqlalchemy.engine.base.Engine INFO {'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'ref_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'ref_group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 21, 86272)}
2020-12-03 14:00:21,091 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:21,100 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:21,101 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:21,103 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:21,105 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 14:00:21,105 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:21,105 sqlalchemy.engine.base.Engine INFO {'param_1': 68}
2020-12-03 14:00:21,116 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:00:21,118 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:21,165 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:21,165 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:00:21,234 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:00:21,234 sqlalchemy.engine.base.Engine INFO {'id': 'bc596b03-ca6e-4baa-a3f2-1700b54d4793', 'group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bb50c0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 21, 231484), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:00:21,239 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:21,241 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:21,250 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:21,252 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:21,253 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:21,261 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:00:21,261 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 21, 260952), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 0, 21, 231484), 'last_message_id': 'bc596b03-ca6e-4baa-a3f2-1700b54d4793', 'group_chat_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:21,265 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:21,275 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:21,277 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:00:21,277 sqlalchemy.engine.base.Engine INFO {'param_1': 'bc596b03-ca6e-4baa-a3f2-1700b54d4793'}
2020-12-03 14:00:21,539 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 14:00:21,540 sqlalchemy.engine.base.Engine INFO {'id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:21,549 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:00:21,550 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:28,590 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:28,591 sqlalchemy.engine.base.Engine INFO {'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:00:28,758 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:00:28,759 sqlalchemy.engine.base.Engine INFO {'id': '6c0e4ed7-1ef1-4abb-8c83-b6b8ff298c88', 'group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bb5c30>, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 28, 757007), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:00:28,763 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:28,783 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:28,785 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:28,785 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:28,794 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:00:28,795 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 28, 794738), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 0, 28, 757007), 'last_message_id': '6c0e4ed7-1ef1-4abb-8c83-b6b8ff298c88', 'group_chat_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:00:28,801 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:28,816 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:28,818 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:00:28,819 sqlalchemy.engine.base.Engine INFO {'param_1': '6c0e4ed7-1ef1-4abb-8c83-b6b8ff298c88'}
2020-12-03 14:00:35,584 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 14:00:35,584 sqlalchemy.engine.base.Engine INFO {'id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:00:47,244 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 14:00:47,245 sqlalchemy.engine.base.Engine INFO {'id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'group_name': 'hatrang gr', 'group_avatar': None, 'group_type': 'group', 'group_clients': None, 'created_by': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 47, 244843), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 14:00:47,249 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:47,271 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:47,273 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:47,273 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:47,283 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:47,283 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:00:47,288 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 14:00:47,288 sqlalchemy.engine.base.Engine INFO {'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 47, 287969), 'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 47, 287995)}
2020-12-03 14:00:47,292 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:47,305 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:47,306 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:47,307 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:47,315 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 14:00:47,316 sqlalchemy.engine.base.Engine INFO {'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'ref_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'ref_group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 47, 315783)}
2020-12-03 14:00:47,321 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:47,330 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:47,331 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:47,333 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:47,334 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 14:00:47,334 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:47,334 sqlalchemy.engine.base.Engine INFO {'param_1': 69}
2020-12-03 14:00:47,357 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:47,358 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:00:47,364 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 14:00:47,364 sqlalchemy.engine.base.Engine INFO {'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 47, 364023), 'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 47, 364051)}
2020-12-03 14:00:47,368 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:47,379 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:47,383 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:47,385 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:47,385 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:47,392 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 14:00:47,393 sqlalchemy.engine.base.Engine INFO {'client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'ref_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'ref_group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 47, 392815)}
2020-12-03 14:00:47,396 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:47,405 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:47,406 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:47,408 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:47,410 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 14:00:47,410 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:47,411 sqlalchemy.engine.base.Engine INFO {'param_1': 70}
2020-12-03 14:00:47,420 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:00:47,421 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:47,457 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:47,457 sqlalchemy.engine.base.Engine INFO {'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:00:47,465 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:00:47,466 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:47,670 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:47,670 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:00:47,679 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:00:47,680 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:56,764 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:56,764 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:00:56,768 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:00:57,125 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:57,126 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:00:57,133 sqlalchemy.engine.base.Engine INFO UPDATE group_client_key SET device_id=%(device_id)s, client_key=%(client_key)s, updated_at=%(updated_at)s WHERE group_client_key.id = %(group_client_key_id)s
2020-12-03 14:00:57,133 sqlalchemy.engine.base.Engine INFO {'device_id': 111, 'client_key': <psycopg2.extensions.Binary object at 0x7f9ca9bd2720>, 'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 57, 132972), 'group_client_key_id': 71}
2020-12-03 14:00:57,137 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:57,140 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:57,584 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:57,585 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:00:57,585 sqlalchemy.engine.base.Engine INFO {'id': 'e6947502-6aec-4e81-a653-6e667bfd1665', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bac6f0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 0, 57, 582822), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:00:57,593 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:57,605 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:57,608 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:00:57,608 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:57,615 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:00:57,615 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 0, 57, 615699), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 0, 57, 582822), 'last_message_id': 'e6947502-6aec-4e81-a653-6e667bfd1665', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:57,619 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:00:57,630 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:00:57,632 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:00:57,632 sqlalchemy.engine.base.Engine INFO {'param_1': 'e6947502-6aec-4e81-a653-6e667bfd1665'}
2020-12-03 14:00:57,643 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:00:57,644 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:00:57,661 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:00:57,661 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:01:10,174 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:01:10,175 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:01:10,180 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:01:10,237 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:01:10,237 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:01:10,244 sqlalchemy.engine.base.Engine INFO UPDATE group_client_key SET device_id=%(device_id)s, client_key=%(client_key)s, updated_at=%(updated_at)s WHERE group_client_key.id = %(group_client_key_id)s
2020-12-03 14:01:10,244 sqlalchemy.engine.base.Engine INFO {'device_id': 111, 'client_key': <psycopg2.extensions.Binary object at 0x7f9ca9bc2c00>, 'updated_at': datetime.datetime(2020, 12, 3, 14, 1, 10, 243949), 'group_client_key_id': 72}
2020-12-03 14:01:10,249 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:01:10,302 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:01:10,303 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:01:10,304 sqlalchemy.engine.base.Engine INFO {'id': '2d55c17c-8318-4cce-967c-a7d4e4284470', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bc2690>, 'created_at': datetime.datetime(2020, 12, 3, 14, 1, 10, 301488), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:01:10,311 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:01:10,321 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:01:10,323 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:01:10,324 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:01:10,332 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:01:10,333 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 1, 10, 332592), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 1, 10, 301488), 'last_message_id': '2d55c17c-8318-4cce-967c-a7d4e4284470', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:01:10,337 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:01:10,345 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:01:10,347 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:01:10,348 sqlalchemy.engine.base.Engine INFO {'param_1': '2d55c17c-8318-4cce-967c-a7d4e4284470'}
2020-12-03 14:01:10,357 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:01:10,357 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:01:16,931 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:01:16,931 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:01:16,943 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:01:16,943 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:01:17,556 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:01:17,556 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:01:19,774 root ERROR year 52893 is out of range
2020-12-03 14:01:19,775 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:01:44,697 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:01:44,697 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:01:44,905 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:01:44,905 sqlalchemy.engine.base.Engine INFO {'id': '521a09a6-c46b-4309-876a-9d232463eb10', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bd2b10>, 'created_at': datetime.datetime(2020, 12, 3, 14, 1, 44, 904461), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:01:44,909 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:01:44,926 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:01:44,928 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:01:44,928 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:01:44,937 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:01:44,937 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 1, 44, 937329), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 1, 44, 904461), 'last_message_id': '521a09a6-c46b-4309-876a-9d232463eb10', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:01:44,942 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:01:44,950 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:01:44,951 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:01:44,951 sqlalchemy.engine.base.Engine INFO {'param_1': '521a09a6-c46b-4309-876a-9d232463eb10'}
2020-12-03 14:01:44,959 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:01:44,959 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:02:03,013 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:02:03,014 sqlalchemy.engine.base.Engine INFO {'id': '314707c3-191f-481f-9ee6-600c43e0711a', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bd2750>, 'created_at': datetime.datetime(2020, 12, 3, 14, 2, 3, 12134), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:02:03,020 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:02:03,042 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:02:03,044 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:02:03,045 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:02:03,053 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:02:03,054 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 2, 3, 53750), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 2, 3, 12134), 'last_message_id': '314707c3-191f-481f-9ee6-600c43e0711a', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:02:03,058 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:02:03,066 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:02:03,068 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:02:03,068 sqlalchemy.engine.base.Engine INFO {'param_1': '314707c3-191f-481f-9ee6-600c43e0711a'}
2020-12-03 14:02:03,079 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:02:03,079 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:02:21,961 root ERROR year 52893 is out of range
2020-12-03 14:02:21,961 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:02:42,033 root ERROR year 52893 is out of range
2020-12-03 14:02:42,033 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:03:04,773 root ERROR year 52893 is out of range
2020-12-03 14:03:04,773 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:03:08,819 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:03:08,819 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:03:08,891 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:03:08,891 sqlalchemy.engine.base.Engine INFO {'id': '5f7f1993-ca3f-455d-82a0-4dd1b2bf0665', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bc28a0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 3, 8, 889702), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:03:08,896 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:03:08,920 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:03:08,923 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:03:08,923 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:03:08,934 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:03:08,935 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 3, 8, 934872), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 3, 8, 889702), 'last_message_id': '5f7f1993-ca3f-455d-82a0-4dd1b2bf0665', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:03:08,939 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:03:08,953 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:03:08,955 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:03:08,956 sqlalchemy.engine.base.Engine INFO {'param_1': '5f7f1993-ca3f-455d-82a0-4dd1b2bf0665'}
2020-12-03 14:03:08,981 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:03:08,981 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:03:15,541 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:03:15,543 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:03:15,544 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:03:15,554 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:03:15,555 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'group_id_2': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:03:25,528 root ERROR year 52893 is out of range
2020-12-03 14:03:25,529 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:04:33,151 root ERROR year 52893 is out of range
2020-12-03 14:04:33,151 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:04:36,630 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:04:36,631 sqlalchemy.engine.base.Engine INFO {'id': 'ad0194f7-4676-456e-ad43-95f49db4e32f', 'group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bd2a50>, 'created_at': datetime.datetime(2020, 12, 3, 14, 4, 36, 629454), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:04:36,635 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:04:36,653 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:04:36,655 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:04:36,656 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:04:36,665 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:04:36,666 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 4, 36, 665655), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 4, 36, 629454), 'last_message_id': 'ad0194f7-4676-456e-ad43-95f49db4e32f', 'group_chat_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:04:36,670 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:04:36,679 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:04:36,680 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:04:36,680 sqlalchemy.engine.base.Engine INFO {'param_1': 'ad0194f7-4676-456e-ad43-95f49db4e32f'}
2020-12-03 14:04:38,115 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:04:38,115 sqlalchemy.engine.base.Engine INFO {'id': 'd3a5b614-bcfd-4331-b715-a8fde493bbbc', 'group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bd2840>, 'created_at': datetime.datetime(2020, 12, 3, 14, 4, 38, 114147), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:04:38,120 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:04:38,138 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:04:38,139 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:04:38,140 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:04:38,165 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:04:38,165 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 4, 38, 165466), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 4, 38, 114147), 'last_message_id': 'd3a5b614-bcfd-4331-b715-a8fde493bbbc', 'group_chat_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:04:38,169 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:04:38,179 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:04:38,180 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:04:38,181 sqlalchemy.engine.base.Engine INFO {'param_1': 'd3a5b614-bcfd-4331-b715-a8fde493bbbc'}
2020-12-03 14:04:39,714 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:04:39,715 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:04:39,715 sqlalchemy.engine.base.Engine INFO {'id': '3e23c6af-bfbe-479c-a48b-d9b5ffaeade2', 'group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bd2150>, 'created_at': datetime.datetime(2020, 12, 3, 14, 4, 39, 698570), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:04:39,722 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:04:39,746 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:04:39,747 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:04:39,748 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:04:39,756 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:04:39,757 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 4, 39, 756719), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 4, 39, 698570), 'last_message_id': '3e23c6af-bfbe-479c-a48b-d9b5ffaeade2', 'group_chat_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:04:39,760 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:04:39,770 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:04:39,771 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:04:39,772 sqlalchemy.engine.base.Engine INFO {'param_1': '3e23c6af-bfbe-479c-a48b-d9b5ffaeade2'}
2020-12-03 14:04:45,409 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:04:45,410 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:04:45,418 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:04:45,418 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'group_id_2': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:04:51,496 root ERROR year 52893 is out of range
2020-12-03 14:04:51,497 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:10:20,017 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 14:10:20,017 sqlalchemy.engine.base.Engine INFO {'id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:11:45,993 root ERROR year 52893 is out of range
2020-12-03 14:11:45,993 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:11:49,792 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 14:11:49,793 sqlalchemy.engine.base.Engine INFO {'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:11:50,093 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:11:50,093 sqlalchemy.engine.base.Engine INFO {'id': '18103549-f4f1-4137-a832-6336ed134e1b', 'group_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bd27e0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 11, 50, 91899), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:11:50,097 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:11:50,120 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:11:50,123 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:11:50,123 sqlalchemy.engine.base.Engine INFO {'param_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:11:50,131 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:11:50,131 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 11, 50, 131225), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 11, 50, 91899), 'last_message_id': '18103549-f4f1-4137-a832-6336ed134e1b', 'group_chat_id': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64'}
2020-12-03 14:11:50,136 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:11:50,144 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:11:50,145 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:11:50,145 sqlalchemy.engine.base.Engine INFO {'param_1': '18103549-f4f1-4137-a832-6336ed134e1b'}
2020-12-03 14:11:54,618 root ERROR year 52893 is out of range
2020-12-03 14:11:54,619 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:11:59,213 root ERROR year 52893 is out of range
2020-12-03 14:11:59,213 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:12:02,181 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:12:02,181 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:12:02,407 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:12:02,408 sqlalchemy.engine.base.Engine INFO {'id': '410bdc57-3ad2-4ed9-8b38-ed6e39e71de4', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bd2cc0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 12, 2, 406288), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:12:02,413 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:12:02,439 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:12:02,441 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:12:02,441 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:12:02,450 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:12:02,451 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 12, 2, 450588), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 12, 2, 406288), 'last_message_id': '410bdc57-3ad2-4ed9-8b38-ed6e39e71de4', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:12:02,455 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:12:02,468 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:12:02,469 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:12:02,470 sqlalchemy.engine.base.Engine INFO {'param_1': '410bdc57-3ad2-4ed9-8b38-ed6e39e71de4'}
2020-12-03 14:12:02,488 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:12:02,488 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:12:10,474 root ERROR year 52893 is out of range
2020-12-03 14:12:10,474 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 14:12:13,851 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:12:13,852 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:12:13,985 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:12:13,985 sqlalchemy.engine.base.Engine INFO {'id': '9d7b58b9-3370-401b-be8a-e6cba57903bc', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bc2b10>, 'created_at': datetime.datetime(2020, 12, 3, 14, 12, 13, 984643), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:12:13,989 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:12:14,015 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:12:14,017 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:12:14,017 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:12:14,025 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:12:14,026 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 12, 14, 25777), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 12, 13, 984643), 'last_message_id': '9d7b58b9-3370-401b-be8a-e6cba57903bc', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:12:14,030 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:12:14,053 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:12:14,054 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:12:14,054 sqlalchemy.engine.base.Engine INFO {'param_1': '9d7b58b9-3370-401b-be8a-e6cba57903bc'}
2020-12-03 14:12:14,064 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:12:14,065 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:12:59,722 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:12:59,723 sqlalchemy.engine.base.Engine INFO {'id': '615f67f5-d900-40b6-9251-d1130656ce8f', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9be80c0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 12, 59, 721015), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:12:59,734 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:12:59,758 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:12:59,759 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:12:59,760 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:12:59,772 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:12:59,772 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 12, 59, 772362), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 12, 59, 721015), 'last_message_id': '615f67f5-d900-40b6-9251-d1130656ce8f', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:12:59,777 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:12:59,789 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:12:59,791 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:12:59,791 sqlalchemy.engine.base.Engine INFO {'param_1': '615f67f5-d900-40b6-9251-d1130656ce8f'}
2020-12-03 14:12:59,802 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:12:59,802 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:30:05,276 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 14:30:05,278 sqlalchemy.engine.base.Engine INFO {'id': '03c35114-9458-4c93-b31e-482040de7fee', 'group_name': 'hatrang1,thefuc', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'created_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 276639), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 14:30:05,282 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:30:05,310 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:30:05,312 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:30:05,312 sqlalchemy.engine.base.Engine INFO {'param_1': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:30:05,322 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:30:05,323 sqlalchemy.engine.base.Engine INFO {'group_id_1': '03c35114-9458-4c93-b31e-482040de7fee', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:30:05,328 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 14:30:05,328 sqlalchemy.engine.base.Engine INFO {'group_id': '03c35114-9458-4c93-b31e-482040de7fee', 'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 328278), 'updated_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 328296)}
2020-12-03 14:30:05,333 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:30:05,342 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:30:05,344 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:30:05,344 sqlalchemy.engine.base.Engine INFO {'param_1': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:30:05,352 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 14:30:05,353 sqlalchemy.engine.base.Engine INFO {'client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'ref_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'ref_group_id': '03c35114-9458-4c93-b31e-482040de7fee', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 352842)}
2020-12-03 14:30:05,359 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:30:05,388 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:30:05,391 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:30:05,392 sqlalchemy.engine.base.Engine INFO {'param_1': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:30:05,402 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:30:05,402 sqlalchemy.engine.base.Engine INFO {'group_id_1': '03c35114-9458-4c93-b31e-482040de7fee', 'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 14:30:05,407 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 14:30:05,408 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:30:05,408 sqlalchemy.engine.base.Engine INFO {'group_id': '03c35114-9458-4c93-b31e-482040de7fee', 'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 407614), 'updated_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 407637)}
2020-12-03 14:30:05,410 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 14:30:05,410 sqlalchemy.engine.base.Engine INFO {'param_1': 73}
2020-12-03 14:30:05,414 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:30:05,423 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:30:05,428 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:30:05,430 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:30:05,430 sqlalchemy.engine.base.Engine INFO {'param_1': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:30:05,439 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 14:30:05,439 sqlalchemy.engine.base.Engine INFO {'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'ref_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'ref_group_id': '03c35114-9458-4c93-b31e-482040de7fee', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 439074)}
2020-12-03 14:30:05,443 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:30:05,459 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:30:05,461 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:30:05,461 sqlalchemy.engine.base.Engine INFO {'param_1': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:30:05,473 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:30:05,474 sqlalchemy.engine.base.Engine INFO {'group_id_1': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:30:05,675 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 14:30:05,676 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 14:30:05,951 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:30:05,951 sqlalchemy.engine.base.Engine INFO {'id': '1074d768-5b98-474e-bdd0-79936a406336', 'group_id': '03c35114-9458-4c93-b31e-482040de7fee', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'message': <psycopg2.extensions.Binary object at 0x7f9ca9bdd1e0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 949459), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:30:05,956 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:30:05,967 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:30:05,969 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:30:05,969 sqlalchemy.engine.base.Engine INFO {'param_1': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:30:05,978 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:30:05,979 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 978865), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 30, 5, 949459), 'last_message_id': '1074d768-5b98-474e-bdd0-79936a406336', 'group_chat_id': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:30:05,983 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:30:05,995 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:30:05,997 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:30:05,997 sqlalchemy.engine.base.Engine INFO {'param_1': '1074d768-5b98-474e-bdd0-79936a406336'}
2020-12-03 14:36:52,063 root INFO Listening on port 5000..
2020-12-03 14:41:49,617 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:41:49,622 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:41:49,622 sqlalchemy.engine.base.Engine INFO {'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:41:49,637 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:41:49,638 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:42:59,463 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:42:59,463 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:42:59,574 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:42:59,574 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'group_id_3': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:43:00,278 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 14:43:00,278 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'created_at_1': datetime.datetime(2020, 12, 3, 14, 3, 8, 889000)}
2020-12-03 14:43:07,374 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 14:43:07,375 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:43:07,632 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:43:07,632 sqlalchemy.engine.base.Engine INFO {'id': 'd9ff8fc3-3f7c-4449-9e12-1f9267e7e63f', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fbf998d8f30>, 'created_at': datetime.datetime(2020, 12, 3, 14, 43, 7, 628881), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:43:07,636 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:43:07,660 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:43:07,662 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:43:07,663 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:07,673 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:43:07,673 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 43, 7, 673204), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 43, 7, 628881), 'last_message_id': 'd9ff8fc3-3f7c-4449-9e12-1f9267e7e63f', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:07,678 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:43:07,686 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:43:07,690 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:43:07,691 sqlalchemy.engine.base.Engine INFO {'param_1': 'd9ff8fc3-3f7c-4449-9e12-1f9267e7e63f'}
2020-12-03 14:43:07,701 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:43:07,702 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:17,623 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:43:17,623 sqlalchemy.engine.base.Engine INFO {'id': 'ec939144-e79d-4c5b-a07b-e134a14b652c', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fbf998f4870>, 'created_at': datetime.datetime(2020, 12, 3, 14, 43, 17, 621502), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:43:17,628 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:43:17,651 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:43:17,654 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:43:17,654 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:17,665 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:43:17,665 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 43, 17, 665468), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 43, 17, 621502), 'last_message_id': 'ec939144-e79d-4c5b-a07b-e134a14b652c', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:17,670 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:43:17,684 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:43:17,686 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:43:17,686 sqlalchemy.engine.base.Engine INFO {'param_1': 'ec939144-e79d-4c5b-a07b-e134a14b652c'}
2020-12-03 14:43:17,700 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:43:17,700 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:21,668 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:43:21,669 sqlalchemy.engine.base.Engine INFO {'id': '8715b1ca-5536-4d30-a16d-519f06c60a96', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fbf9958c630>, 'created_at': datetime.datetime(2020, 12, 3, 14, 43, 21, 667394), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:43:21,673 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:43:21,685 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:43:21,687 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:43:21,687 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:21,697 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:43:21,697 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 43, 21, 697318), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 43, 21, 667394), 'last_message_id': '8715b1ca-5536-4d30-a16d-519f06c60a96', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:21,702 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:43:21,709 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:43:21,710 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:43:21,710 sqlalchemy.engine.base.Engine INFO {'param_1': '8715b1ca-5536-4d30-a16d-519f06c60a96'}
2020-12-03 14:43:21,720 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:43:21,721 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:27,420 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:43:27,421 sqlalchemy.engine.base.Engine INFO {'id': '230a3a68-ec06-40ac-980f-c5a668b6cebc', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fbf999406f0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 43, 27, 419656), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:43:27,424 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:43:27,444 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:43:27,446 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:43:27,446 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:27,456 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:43:27,457 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 43, 27, 456612), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 43, 27, 419656), 'last_message_id': '230a3a68-ec06-40ac-980f-c5a668b6cebc', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:27,462 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:43:27,601 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:43:27,602 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:43:27,602 sqlalchemy.engine.base.Engine INFO {'param_1': '230a3a68-ec06-40ac-980f-c5a668b6cebc'}
2020-12-03 14:43:27,614 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:43:27,615 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:43:37,537 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 14:43:37,537 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'created_at_1': datetime.datetime(2020, 12, 3, 14, 12, 13, 984000)}
2020-12-03 14:44:56,301 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 14:44:56,302 sqlalchemy.engine.base.Engine INFO {'id': '081fe48f-9dd7-49a0-a989-4c71393044fe', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fbf999407b0>, 'created_at': datetime.datetime(2020, 12, 3, 14, 44, 56, 300354), 'updated_at': None, 'deleted_at': None}
2020-12-03 14:44:56,306 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:44:56,327 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:44:56,329 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 14:44:56,330 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:44:56,339 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 14:44:56,339 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 14, 44, 56, 339371), 'last_message_at': datetime.datetime(2020, 12, 3, 14, 44, 56, 300354), 'last_message_id': '081fe48f-9dd7-49a0-a989-4c71393044fe', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:44:56,343 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 14:44:56,351 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:44:56,353 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 14:44:56,353 sqlalchemy.engine.base.Engine INFO {'param_1': '081fe48f-9dd7-49a0-a989-4c71393044fe'}
2020-12-03 14:44:56,363 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 14:44:56,364 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:45:54,333 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:45:54,337 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:45:54,337 sqlalchemy.engine.base.Engine INFO {'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 14:45:54,359 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:45:54,359 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 14:46:00,284 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 14:46:00,285 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 14:46:00,293 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 14:46:00,293 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'group_id_3': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 14:46:11,716 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 14:46:11,717 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 14:46:11,717 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'created_at_1': datetime.datetime(2020, 12, 3, 14, 4, 39, 698000)}
2020-12-03 14:46:55,388 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 14:46:55,388 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'created_at_1': datetime.datetime(2020, 12, 3, 14, 12, 59, 721000)}
2020-12-03 14:57:14,367 root INFO Listening on port 5000..
2020-12-03 15:02:32,326 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:02:32,331 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:02:32,331 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 15:02:35,773 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:02:35,774 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'group_id_3': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 15:02:39,512 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:02:39,516 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:02:39,516 sqlalchemy.engine.base.Engine INFO {'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 15:02:39,601 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:02:39,602 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:02:41,963 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:02:41,963 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'created_at_1': datetime.datetime(2020, 12, 3, 14, 12, 59, 721000)}
2020-12-03 15:02:46,512 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:02:46,513 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 15:02:46,782 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:02:46,783 sqlalchemy.engine.base.Engine INFO {'id': 'ea1eb46f-5024-4c87-9349-bd3dc62f5709', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fb5c60d9ae0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 2, 46, 778012), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:02:46,834 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:02:46,893 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:02:46,895 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:02:46,895 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:02:46,967 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:02:46,967 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 2, 46, 967030), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 2, 46, 778012), 'last_message_id': 'ea1eb46f-5024-4c87-9349-bd3dc62f5709', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:02:46,973 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:02:46,987 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:02:46,989 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:02:46,989 sqlalchemy.engine.base.Engine INFO {'param_1': 'ea1eb46f-5024-4c87-9349-bd3dc62f5709'}
2020-12-03 15:02:47,045 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:02:47,045 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:02:56,715 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:02:56,715 sqlalchemy.engine.base.Engine INFO {'id': 'ee0f2c9f-92bf-4f78-ba8a-e50c699615f0', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fb5c60df2d0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 2, 56, 713951), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:02:56,733 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:02:56,854 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:02:56,856 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:02:56,856 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:02:56,868 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:02:56,868 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 2, 56, 868287), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 2, 56, 713951), 'last_message_id': 'ee0f2c9f-92bf-4f78-ba8a-e50c699615f0', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:02:56,873 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:02:56,884 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:02:56,886 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:02:56,887 sqlalchemy.engine.base.Engine INFO {'param_1': 'ee0f2c9f-92bf-4f78-ba8a-e50c699615f0'}
2020-12-03 15:02:56,916 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:02:56,917 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:06,109 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:03:06,109 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 2, 46, 778000)}
2020-12-03 15:03:09,561 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:03:09,561 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': '01134704-2e02-478c-a0f4-1be5e534c6d9'}
2020-12-03 15:03:09,801 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:03:09,802 sqlalchemy.engine.base.Engine INFO {'id': '42c863f3-3a14-4c63-a373-0892e6420d49', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fb5c60df810>, 'created_at': datetime.datetime(2020, 12, 3, 15, 3, 9, 800614), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:03:09,985 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:10,008 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:10,009 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:03:10,009 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:10,022 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:03:10,022 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 3, 10, 22127), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 3, 9, 800614), 'last_message_id': '42c863f3-3a14-4c63-a373-0892e6420d49', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:10,027 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:10,146 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:10,147 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:03:10,147 sqlalchemy.engine.base.Engine INFO {'param_1': '42c863f3-3a14-4c63-a373-0892e6420d49'}
2020-12-03 15:03:10,163 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:03:10,164 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:10,893 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:03:10,893 sqlalchemy.engine.base.Engine INFO {'id': '7e3c7a4d-c957-4ec4-85fb-66a480bd112d', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fb5c60df240>, 'created_at': datetime.datetime(2020, 12, 3, 15, 3, 10, 892093), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:03:10,900 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:10,925 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:10,927 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:03:10,927 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:11,065 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:03:11,065 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 3, 11, 65423), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 3, 10, 892093), 'last_message_id': '7e3c7a4d-c957-4ec4-85fb-66a480bd112d', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:11,070 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:11,083 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:11,085 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:03:11,085 sqlalchemy.engine.base.Engine INFO {'param_1': '7e3c7a4d-c957-4ec4-85fb-66a480bd112d'}
2020-12-03 15:03:11,096 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:03:11,096 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:12,259 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:12,259 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:03:12,260 sqlalchemy.engine.base.Engine INFO {'id': 'cf564736-67cd-483e-ac1f-eba306e1aa50', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fb5c6123cf0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 3, 12, 190210), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:03:12,267 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:12,299 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:12,302 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:03:12,302 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:12,318 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:03:12,319 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 3, 12, 318427), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 3, 12, 190210), 'last_message_id': 'cf564736-67cd-483e-ac1f-eba306e1aa50', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:12,324 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:12,349 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:12,351 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:03:12,351 sqlalchemy.engine.base.Engine INFO {'param_1': 'cf564736-67cd-483e-ac1f-eba306e1aa50'}
2020-12-03 15:03:12,364 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:03:12,364 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:14,262 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:03:14,262 sqlalchemy.engine.base.Engine INFO {'id': 'dda31f84-7344-4bf0-977d-20797923c6d4', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fb5c6123ea0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 3, 14, 260734), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:03:14,267 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:14,292 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:14,294 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:03:14,294 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:14,305 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:03:14,305 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 3, 14, 304923), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 3, 14, 260734), 'last_message_id': 'dda31f84-7344-4bf0-977d-20797923c6d4', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:14,311 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:14,324 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:14,326 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:03:14,326 sqlalchemy.engine.base.Engine INFO {'param_1': 'dda31f84-7344-4bf0-977d-20797923c6d4'}
2020-12-03 15:03:14,341 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:03:14,342 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:03:20,133 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:03:20,135 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:03:20,135 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 15:03:20,150 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:03:20,151 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0780b6bd-e454-4fd8-91b4-53a8bdd18b64', 'group_id_2': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'group_id_3': '03c35114-9458-4c93-b31e-482040de7fee'}
2020-12-03 15:03:24,253 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:03:24,253 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 2, 56, 713000)}
2020-12-03 15:03:38,843 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:03:38,843 sqlalchemy.engine.base.Engine INFO {'id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'username': 'testpeer1', 'email': 'gAAAAABfyJva92RscYd7McYZPmc4UcsYc6YT6H4l1OOORBR-b5gWg_0F5zkqOhWD4yp04MRCte2s4I_vvfLNlqFfzvMJdv8o11oLtiUk1__tMIIuriwNXgE=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 3, 38, 842872), 'updated_at': datetime.datetime(2020, 12, 3, 15, 3, 38, 842895)}
2020-12-03 15:03:38,848 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:03:55,230 root ERROR 401: b'{"error":"invalid_grant","error_description":"Invalid user credentials"}'
2020-12-03 15:03:55,231 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 15:04:10,887 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:04:10,888 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:04:10,888 sqlalchemy.engine.base.Engine INFO {'id': '08a8b6c5-90b2-4a26-b744-8e9d717d4c55', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': '01134704-2e02-478c-a0f4-1be5e534c6d9', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fb5c6389c30>, 'created_at': datetime.datetime(2020, 12, 3, 15, 4, 10, 885956), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:04:10,899 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:04:10,921 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:04:10,923 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:04:10,924 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:04:10,946 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:04:10,946 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 4, 10, 946221), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 4, 10, 885956), 'last_message_id': '08a8b6c5-90b2-4a26-b744-8e9d717d4c55', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:04:10,955 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:04:10,962 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:04:10,964 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:04:10,965 sqlalchemy.engine.base.Engine INFO {'param_1': '08a8b6c5-90b2-4a26-b744-8e9d717d4c55'}
2020-12-03 15:04:10,994 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:04:10,995 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:04:18,661 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:04:18,662 sqlalchemy.engine.base.Engine INFO {'id': '503ff7ff-84b2-4383-a09e-e4119aae512d', 'username': 'longdata12', 'email': 'gAAAAABfyJwCD_kU-oHA-yNCS6Yr3rnXt-y58ULk64nrCxVWwdjb6TCXu7vdsJhQ4LoTZqmcppBzhiFcYJAKj88NOpIK61jO4fb_gVyx6W3b9wcS_kvKa4k=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 4, 18, 661826), 'updated_at': datetime.datetime(2020, 12, 3, 15, 4, 18, 661850)}
2020-12-03 15:04:18,669 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:04:27,130 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:04:27,132 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:04:27,132 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 3, 14, 260000)}
2020-12-03 15:04:41,763 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:04:41,764 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:04:41,821 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:04:41,822 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:04:41,829 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:04:41,830 sqlalchemy.engine.base.Engine INFO {'client_id': '503ff7ff-84b2-4383-a09e-e4119aae512d', 'device_id': 1791546573, 'registration_id': 1396038229, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fb5c63af630>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fb5c63af840>, 'signed_prekey_id': 1854604541, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fb5c63afc00>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fb5c63afbd0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 4, 41, 829453), 'updated_at': datetime.datetime(2020, 12, 3, 15, 4, 41, 829477)}
2020-12-03 15:04:41,837 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:04:41,872 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:04:41,874 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:04:41,874 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:04:44,439 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:04:44,441 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:04:44,442 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:04:44,504 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:04:44,505 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:04:50,222 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:04:50,222 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:04:57,088 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:04:57,089 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:04:57,099 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:04:57,100 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:05:05,519 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:05:05,520 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'client_id_1': 'bdfdf2b8-8338-4530-b805-241e8a417e2d'}
2020-12-03 15:05:05,802 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:05:05,802 sqlalchemy.engine.base.Engine INFO {'id': '60a5ed28-f382-4572-9740-34b9e9e2698d', 'group_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636', 'from_client_id': 'bdfdf2b8-8338-4530-b805-241e8a417e2d', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fb5c63c5750>, 'created_at': datetime.datetime(2020, 12, 3, 15, 5, 5, 801426), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:05:05,808 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:05:05,833 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:05:05,834 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:05:05,834 sqlalchemy.engine.base.Engine INFO {'param_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:05:05,848 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:05:05,848 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 5, 5, 848575), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 5, 5, 801426), 'last_message_id': '60a5ed28-f382-4572-9740-34b9e9e2698d', 'group_chat_id': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:05:05,860 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:05:05,876 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:05:05,878 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:05:05,878 sqlalchemy.engine.base.Engine INFO {'param_1': '60a5ed28-f382-4572-9740-34b9e9e2698d'}
2020-12-03 15:05:05,891 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:05:05,891 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e392deb6-64f1-4b0e-add0-3558d58f6636'}
2020-12-03 15:05:06,501 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:05:06,502 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:05:19,097 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:05:19,097 sqlalchemy.engine.base.Engine INFO {'id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:05:19,140 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:05:19,140 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:05:19,147 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:05:19,147 sqlalchemy.engine.base.Engine INFO {'client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'device_id': 866951255, 'registration_id': 284746802, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fb5c63d7de0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fb5c63d70c0>, 'signed_prekey_id': 2056237329, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fb5c63d79f0>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fb5c63d7a80>, 'created_at': datetime.datetime(2020, 12, 3, 15, 5, 19, 147352), 'updated_at': datetime.datetime(2020, 12, 3, 15, 5, 19, 147377)}
2020-12-03 15:05:19,154 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:05:19,193 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:05:19,195 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:05:19,195 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:05:58,253 root INFO Listening on port 5000..
2020-12-03 15:06:41,162 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:06:41,182 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:06:41,200 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:06:41,916 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:06:41,929 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:06:41,946 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:06:42,683 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:06:42,689 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:06:45,761 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:06:45,774 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:06:45,811 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:06:46,468 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:06:46,476 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:06:46,490 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:06:49,802 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:06:49,845 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:06:49,902 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:06:49,946 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:06:54,785 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:06:54,808 sqlalchemy.engine.base.Engine INFO {'id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:06:57,566 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:06:57,585 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:06:57,652 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:06:57,683 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:07:03,883 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:07:03,908 sqlalchemy.engine.base.Engine INFO {'id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:07:04,856 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:07:04,875 sqlalchemy.engine.base.Engine INFO {'id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:07:07,839 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:07:07,876 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:07:07,900 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:07:07,942 sqlalchemy.engine.base.Engine INFO {'group_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:07:11,856 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:07:11,884 sqlalchemy.engine.base.Engine INFO {'id': 'a044914f-4bf4-4943-b420-7af68e44d466', 'group_name': 'longdata12-testpeer1', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '7b679dd5-c33f-4450-ad4b-73093b264905', 'created_at': datetime.datetime(2020, 12, 3, 15, 7, 11, 856684), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:07:11,965 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:07:12,055 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:07:12,056 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:07:12,056 sqlalchemy.engine.base.Engine INFO {'param_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:07:12,086 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:07:12,108 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466', 'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:07:12,165 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:07:12,194 sqlalchemy.engine.base.Engine INFO {'group_id': 'a044914f-4bf4-4943-b420-7af68e44d466', 'client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 7, 12, 165685), 'updated_at': datetime.datetime(2020, 12, 3, 15, 7, 12, 165708)}
2020-12-03 15:07:12,245 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:07:12,284 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:07:12,287 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:07:12,287 sqlalchemy.engine.base.Engine INFO {'param_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:07:12,330 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:07:12,345 sqlalchemy.engine.base.Engine INFO {'client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'ref_client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'ref_group_id': 'a044914f-4bf4-4943-b420-7af68e44d466', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 7, 12, 329710)}
2020-12-03 15:07:12,406 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:07:12,452 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:07:12,491 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:07:12,503 sqlalchemy.engine.base.Engine INFO {'param_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:07:12,582 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:07:12,594 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466', 'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:07:12,633 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:07:12,669 sqlalchemy.engine.base.Engine INFO {'group_id': 'a044914f-4bf4-4943-b420-7af68e44d466', 'client_id': '503ff7ff-84b2-4383-a09e-e4119aae512d', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 7, 12, 633827), 'updated_at': datetime.datetime(2020, 12, 3, 15, 7, 12, 633856)}
2020-12-03 15:07:12,712 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:07:12,767 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:07:12,801 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:07:12,866 sqlalchemy.engine.base.Engine INFO {'param_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:07:12,886 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:07:12,886 sqlalchemy.engine.base.Engine INFO {'client_id': '503ff7ff-84b2-4383-a09e-e4119aae512d', 'ref_client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'ref_group_id': 'a044914f-4bf4-4943-b420-7af68e44d466', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 7, 12, 886396)}
2020-12-03 15:07:12,926 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:07:12,980 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:07:13,014 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:07:13,032 sqlalchemy.engine.base.Engine INFO {'param_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:07:13,074 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:07:13,074 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:07:13,127 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:07:13,131 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:07:13,177 sqlalchemy.engine.base.Engine INFO {'param_1': 81}
2020-12-03 15:07:13,279 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:07:13,307 sqlalchemy.engine.base.Engine INFO {'id': 'f0697a15-1177-46ee-b3fc-39f8dd40f882', 'group_id': 'a044914f-4bf4-4943-b420-7af68e44d466', 'from_client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'client_id': '503ff7ff-84b2-4383-a09e-e4119aae512d', 'message': <psycopg2.extensions.Binary object at 0x7fa8a93adea0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 7, 13, 258681), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:07:13,331 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:07:13,347 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:07:13,371 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:07:13,372 sqlalchemy.engine.base.Engine INFO {'param_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:07:13,419 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:07:13,427 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 7, 13, 418937), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 7, 13, 258681), 'last_message_id': 'f0697a15-1177-46ee-b3fc-39f8dd40f882', 'group_chat_id': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:07:13,484 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:07:13,518 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:07:13,531 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:07:13,531 sqlalchemy.engine.base.Engine INFO {'param_1': 'f0697a15-1177-46ee-b3fc-39f8dd40f882'}
2020-12-03 15:07:49,198 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:07:49,235 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:07:49,281 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:07:49,327 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:08:18,761 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:08:18,808 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:08:59,474 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:08:59,499 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:08:59,541 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:08:59,565 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:09:16,411 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:09:16,431 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:09:16,484 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:09:16,533 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:09:19,224 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:09:19,240 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:11:18,847 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:11:18,865 sqlalchemy.engine.base.Engine INFO {'id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'username': 'hatrang3', 'email': 'gAAAAABfyJ2mHpyiqw_CumhPN5CVxgFD_tSafs6e62AsBh15NoXYSho2tD0ZmPFduT1_KP7bDbktzGyRFlpAyeL5Vpci1M9BZw==', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 11, 18, 846937), 'updated_at': datetime.datetime(2020, 12, 3, 15, 11, 18, 846959)}
2020-12-03 15:11:18,893 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:11:18,916 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:11:34,603 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:11:34,628 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:11:34,647 sqlalchemy.engine.base.Engine INFO {'id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:11:36,453 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:11:36,480 sqlalchemy.engine.base.Engine INFO {'client_id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:11:36,564 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:11:36,587 sqlalchemy.engine.base.Engine INFO {'client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'device_id': 111, 'registration_id': 9582, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fa8a92529f0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fa8a9252930>, 'signed_prekey_id': 5, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fa8a9252870>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fa8a9252e10>, 'created_at': datetime.datetime(2020, 12, 3, 15, 11, 36, 547212), 'updated_at': datetime.datetime(2020, 12, 3, 15, 11, 36, 547257)}
2020-12-03 15:11:36,652 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:11:37,529 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:11:37,541 sqlalchemy.engine.base.Engine INFO {'client_id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:11:37,594 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:11:37,610 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:13:38,243 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:13:38,263 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:13:38,281 sqlalchemy.engine.base.Engine INFO {'id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'username': 'hatrang4', 'email': 'gAAAAABfyJ4yekqZNMVr-ZsKif3EVYg2SHxYPGXbpExm8yMGSmpiemyx4JNULsf_ZyUY55niXm8KA8zteJTatGkwyXPfaiNRqQ==', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 13, 38, 263598), 'updated_at': datetime.datetime(2020, 12, 3, 15, 13, 38, 263615)}
2020-12-03 15:13:38,339 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:13:55,055 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:13:55,074 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:13:55,103 sqlalchemy.engine.base.Engine INFO {'id_1': 'e33c8006-1439-4e1e-b021-acad756cc770'}
2020-12-03 15:13:55,602 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:13:55,614 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e33c8006-1439-4e1e-b021-acad756cc770'}
2020-12-03 15:13:55,648 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:13:55,666 sqlalchemy.engine.base.Engine INFO {'client_id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'device_id': 111, 'registration_id': 3777, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fa8a93dc630>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fa8a93dc690>, 'signed_prekey_id': 5, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fa8a93dc600>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fa8a93dc6c0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 13, 55, 647940), 'updated_at': datetime.datetime(2020, 12, 3, 15, 13, 55, 647960)}
2020-12-03 15:13:55,705 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:15:25,972 root INFO Listening on port 5000..
2020-12-03 15:15:29,227 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:29,231 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:15:29,232 sqlalchemy.engine.base.Engine INFO {'client_id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:15:29,246 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:15:29,246 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:15:36,482 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:36,485 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:15:36,486 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e33c8006-1439-4e1e-b021-acad756cc770'}
2020-12-03 15:15:36,500 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:15:36,500 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:15:41,812 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:15:41,813 sqlalchemy.engine.base.Engine INFO {'id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:15:49,959 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:15:49,960 sqlalchemy.engine.base.Engine INFO {'id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'group_name': 'hatrang3,hatrang4', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '00b20b94-9290-4004-8ce6-fad12db155d0', 'created_at': datetime.datetime(2020, 12, 3, 15, 15, 49, 959426), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:15:49,970 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:15:50,007 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:50,009 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:15:50,010 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:15:50,022 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:15:50,022 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'client_id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:15:50,031 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:15:50,031 sqlalchemy.engine.base.Engine INFO {'group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 15, 50, 30798), 'updated_at': datetime.datetime(2020, 12, 3, 15, 15, 50, 30829)}
2020-12-03 15:15:50,036 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:15:50,047 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:50,049 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:15:50,050 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:15:50,062 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:15:50,062 sqlalchemy.engine.base.Engine INFO {'client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'ref_client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'ref_group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 15, 50, 62028)}
2020-12-03 15:15:50,069 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:15:50,082 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:50,086 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:15:50,087 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:15:50,097 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:15:50,098 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'client_id_1': 'e33c8006-1439-4e1e-b021-acad756cc770'}
2020-12-03 15:15:50,102 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:15:50,102 sqlalchemy.engine.base.Engine INFO {'group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'client_id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 15, 50, 102404), 'updated_at': datetime.datetime(2020, 12, 3, 15, 15, 50, 102430)}
2020-12-03 15:15:50,103 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:50,106 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:15:50,106 sqlalchemy.engine.base.Engine INFO {'param_1': 82}
2020-12-03 15:15:50,107 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:15:50,115 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:15:50,124 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:50,126 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:15:50,126 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:15:50,134 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:15:50,134 sqlalchemy.engine.base.Engine INFO {'client_id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'ref_client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'ref_group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 15, 50, 134006)}
2020-12-03 15:15:50,139 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:15:50,147 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:50,148 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:15:50,150 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:15:50,152 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:15:50,152 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:15:50,152 sqlalchemy.engine.base.Engine INFO {'param_1': 83}
2020-12-03 15:15:50,163 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:15:50,164 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:15:53,325 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:15:53,326 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e33c8006-1439-4e1e-b021-acad756cc770'}
2020-12-03 15:16:00,927 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:16:00,927 sqlalchemy.engine.base.Engine INFO {'id': '4eed85f0-4dd7-45f7-b172-6e024d71e109', 'group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'from_client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'client_id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'message': <psycopg2.extensions.Binary object at 0x7fefbda5f1e0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 16, 0, 925281), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:16:00,931 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:00,979 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:00,985 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:00,987 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:16:00,987 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:00,997 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:16:00,998 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 16, 0, 997610), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 16, 0, 925281), 'last_message_id': '4eed85f0-4dd7-45f7-b172-6e024d71e109', 'group_chat_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:01,001 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:01,014 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:01,016 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:16:01,016 sqlalchemy.engine.base.Engine INFO {'param_1': '4eed85f0-4dd7-45f7-b172-6e024d71e109'}
2020-12-03 15:16:01,149 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 15:16:01,149 sqlalchemy.engine.base.Engine INFO {'id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:01,165 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:16:01,166 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:44,730 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:16:44,732 sqlalchemy.engine.base.Engine INFO {'client_id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:16:44,873 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:16:44,873 sqlalchemy.engine.base.Engine INFO {'id': '416e053a-0d51-463d-8fb1-1a464743ab0b', 'group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'from_client_id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'message': <psycopg2.extensions.Binary object at 0x7fefbda66ba0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 16, 44, 872036), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:16:44,877 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:44,901 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:44,903 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:16:44,903 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:44,911 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:16:44,911 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 16, 44, 911409), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 16, 44, 872036), 'last_message_id': '416e053a-0d51-463d-8fb1-1a464743ab0b', 'group_chat_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:44,915 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:44,926 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:44,927 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:16:44,927 sqlalchemy.engine.base.Engine INFO {'param_1': '416e053a-0d51-463d-8fb1-1a464743ab0b'}
2020-12-03 15:16:54,897 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:16:54,897 sqlalchemy.engine.base.Engine INFO {'id': '6828938f-e8be-4232-b8a0-090d8ec0cc35', 'group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'from_client_id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'message': <psycopg2.extensions.Binary object at 0x7fefbda667b0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 16, 54, 896175), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:16:54,901 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:54,925 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:54,927 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:16:54,927 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:54,934 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:16:54,935 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 16, 54, 934688), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 16, 54, 896175), 'last_message_id': '6828938f-e8be-4232-b8a0-090d8ec0cc35', 'group_chat_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:54,938 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:54,950 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:54,951 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:16:54,951 sqlalchemy.engine.base.Engine INFO {'param_1': '6828938f-e8be-4232-b8a0-090d8ec0cc35'}
2020-12-03 15:16:56,639 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:16:56,639 sqlalchemy.engine.base.Engine INFO {'id': 'ed1cae09-64ba-43fd-9124-1d260f9ce988', 'group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'from_client_id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'message': <psycopg2.extensions.Binary object at 0x7fefbda21e70>, 'created_at': datetime.datetime(2020, 12, 3, 15, 16, 56, 638655), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:16:56,644 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:56,668 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:56,670 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:16:56,670 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:56,683 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:16:56,684 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 16, 56, 683526), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 16, 56, 638655), 'last_message_id': 'ed1cae09-64ba-43fd-9124-1d260f9ce988', 'group_chat_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:56,688 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:56,701 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:56,703 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:16:56,703 sqlalchemy.engine.base.Engine INFO {'param_1': 'ed1cae09-64ba-43fd-9124-1d260f9ce988'}
2020-12-03 15:16:58,070 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:58,071 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:16:58,071 sqlalchemy.engine.base.Engine INFO {'id': '1547e62a-fc77-4cec-ad55-bdb9ffa0cda2', 'group_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'from_client_id': 'e33c8006-1439-4e1e-b021-acad756cc770', 'client_id': '00b20b94-9290-4004-8ce6-fad12db155d0', 'message': <psycopg2.extensions.Binary object at 0x7fefbda66630>, 'created_at': datetime.datetime(2020, 12, 3, 15, 16, 58, 69239), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:16:58,078 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:58,101 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:58,103 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:16:58,104 sqlalchemy.engine.base.Engine INFO {'param_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:58,113 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:16:58,114 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 16, 58, 113674), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 16, 58, 69239), 'last_message_id': '1547e62a-fc77-4cec-ad55-bdb9ffa0cda2', 'group_chat_id': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:16:58,118 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:16:58,126 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:16:58,128 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:16:58,128 sqlalchemy.engine.base.Engine INFO {'param_1': '1547e62a-fc77-4cec-ad55-bdb9ffa0cda2'}
2020-12-03 15:17:09,364 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:17:09,368 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:17:09,368 sqlalchemy.engine.base.Engine INFO {'client_id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:17:09,384 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:17:09,385 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:17:31,010 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 15:17:31,011 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:31,022 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:17:31,022 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:32,083 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 15:17:32,083 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:32,097 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:17:32,098 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:32,705 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 15:17:32,706 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:32,713 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:17:32,713 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:33,321 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 15:17:33,321 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:33,328 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:17:33,328 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:33,913 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 15:17:33,914 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:33,984 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:17:33,984 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:34,528 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 15:17:34,528 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:34,539 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:17:34,540 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 15:17:55,387 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:17:55,388 sqlalchemy.engine.base.Engine INFO {'client_id_1': '00b20b94-9290-4004-8ce6-fad12db155d0'}
2020-12-03 15:17:55,398 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:17:55,398 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86'}
2020-12-03 15:18:08,261 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:18:08,263 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:18:08,263 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 16, 44, 872000)}
2020-12-03 15:18:23,278 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:18:23,279 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a2d88138-c7c8-4d0a-8e22-ec6ef2cfee86', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 16, 56, 638000)}
2020-12-03 15:19:56,360 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:19:56,362 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:19:56,371 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:19:56,371 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466'}
2020-12-03 15:19:58,197 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:19:58,198 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:20:03,433 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:20:03,436 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:20:03,498 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:20:03,499 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:20:03,499 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:20:53,099 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:20:53,099 sqlalchemy.engine.base.Engine INFO {'id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'username': 'vuongle', 'email': 'gAAAAABfyJ_l__z5Qx_fDhAf7lvyOwnNDkdOdWUc-sAwlwZpvTlk7DnMIdgkYJO05-wIO2tCKQdkwfgC2VVDeoWiuWHLn9wBXZJvjMXJ-3KkdZGRDjfptZM=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 20, 53, 98830), 'updated_at': datetime.datetime(2020, 12, 3, 15, 20, 53, 98854)}
2020-12-03 15:20:53,107 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:21:08,870 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:21:08,871 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:21:08,872 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:21:09,042 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:21:09,043 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:21:09,050 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:21:09,051 sqlalchemy.engine.base.Engine INFO {'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'device_id': 40784884, 'registration_id': 59004039, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fefbdbbcea0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fefbdbbcdb0>, 'signed_prekey_id': 407906891, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fefbdbbcc00>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fefbdbcd030>, 'created_at': datetime.datetime(2020, 12, 3, 15, 21, 9, 50248), 'updated_at': datetime.datetime(2020, 12, 3, 15, 21, 9, 50277)}
2020-12-03 15:21:09,059 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:21:09,141 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:21:09,143 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:21:09,143 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:21:43,476 root INFO Listening on port 5000..
2020-12-03 15:21:59,575 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:21:59,584 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:21:59,590 sqlalchemy.engine.base.Engine INFO {'id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:22:01,428 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:01,435 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:22:01,442 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:22:05,076 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:22:05,076 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:22:05,087 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:22:05,088 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:22:10,010 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:22:10,011 sqlalchemy.engine.base.Engine INFO {'id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:22:13,072 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:22:13,072 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:22:13,089 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:13,092 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:22:13,093 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:22:20,435 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:22:20,435 sqlalchemy.engine.base.Engine INFO {'id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'group_name': 'vuongle-testpeer1', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '7b679dd5-c33f-4450-ad4b-73093b264905', 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 435131), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:22:20,441 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:20,468 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:20,469 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:20,470 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,481 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:22:20,481 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:22:20,488 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:22:20,488 sqlalchemy.engine.base.Engine INFO {'group_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 488012), 'updated_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 488036)}
2020-12-03 15:22:20,493 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:20,500 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:20,502 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:20,502 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,511 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:22:20,512 sqlalchemy.engine.base.Engine INFO {'client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'ref_client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'ref_group_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 511679)}
2020-12-03 15:22:20,516 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:20,526 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:20,528 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:20,529 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,545 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:22:20,545 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:22:20,550 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:22:20,550 sqlalchemy.engine.base.Engine INFO {'group_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 550179), 'updated_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 550196)}
2020-12-03 15:22:20,558 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:20,567 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:20,569 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:20,569 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,577 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:22:20,577 sqlalchemy.engine.base.Engine INFO {'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'ref_group_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 576964)}
2020-12-03 15:22:20,581 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:20,592 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:20,596 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:20,596 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,605 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:22:20,606 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,613 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:20,615 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:22:20,616 sqlalchemy.engine.base.Engine INFO {'param_1': 85}
2020-12-03 15:22:20,633 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:22:20,633 sqlalchemy.engine.base.Engine INFO {'id': '915ec130-9ec0-43f9-8c09-8578abc713ed', 'group_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'from_client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'message': <psycopg2.extensions.Binary object at 0x7f8d5dba10f0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 630419), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:22:20,639 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:20,651 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:20,653 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:20,654 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,664 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:22:20,664 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 664482), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 22, 20, 630419), 'last_message_id': '915ec130-9ec0-43f9-8c09-8578abc713ed', 'group_chat_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,668 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:20,677 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:20,678 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:22:20,678 sqlalchemy.engine.base.Engine INFO {'param_1': '915ec130-9ec0-43f9-8c09-8578abc713ed'}
2020-12-03 15:22:20,752 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:22:20,752 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:22:20,766 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:22:20,766 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:20,819 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:22:20,819 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:22:26,171 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:22:26,174 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:22:26,174 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 22, 20, 630000)}
2020-12-03 15:22:26,174 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:22:36,724 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:22:36,725 sqlalchemy.engine.base.Engine INFO {'id': '8de82cfd-56b5-4c2a-aadc-f9d8eeca57aa', 'group_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'from_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'message': <psycopg2.extensions.Binary object at 0x7f8d5dbae9f0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 36, 723001), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:22:36,729 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:36,751 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:36,753 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:36,754 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:36,763 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:22:36,763 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 22, 36, 763170), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 22, 36, 723001), 'last_message_id': '8de82cfd-56b5-4c2a-aadc-f9d8eeca57aa', 'group_chat_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:36,768 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:36,775 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:36,777 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:22:36,778 sqlalchemy.engine.base.Engine INFO {'param_1': '8de82cfd-56b5-4c2a-aadc-f9d8eeca57aa'}
2020-12-03 15:22:51,930 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:22:51,930 sqlalchemy.engine.base.Engine INFO {'id': 'bbaefecb-7e50-4c3c-8431-ec4f4003a08f', 'group_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'from_client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'message': <psycopg2.extensions.Binary object at 0x7f8d5dbae450>, 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 51, 929550), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:22:51,935 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:51,964 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:51,969 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:51,971 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:51,971 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:52,107 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:22:52,107 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 22, 52, 107447), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 22, 51, 929550), 'last_message_id': 'bbaefecb-7e50-4c3c-8431-ec4f4003a08f', 'group_chat_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:52,111 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:52,124 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:52,125 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:22:52,126 sqlalchemy.engine.base.Engine INFO {'param_1': 'bbaefecb-7e50-4c3c-8431-ec4f4003a08f'}
2020-12-03 15:22:57,198 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:22:57,198 sqlalchemy.engine.base.Engine INFO {'id': '1e2afb26-490b-4c80-b129-b23e7972dfaa', 'group_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'from_client_id': '7b679dd5-c33f-4450-ad4b-73093b264905', 'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'message': <psycopg2.extensions.Binary object at 0x7f8d5dba1480>, 'created_at': datetime.datetime(2020, 12, 3, 15, 22, 57, 196989), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:22:57,203 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:57,224 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:57,227 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:22:57,227 sqlalchemy.engine.base.Engine INFO {'param_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:57,237 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:22:57,237 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 22, 57, 237401), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 22, 57, 196989), 'last_message_id': '1e2afb26-490b-4c80-b129-b23e7972dfaa', 'group_chat_id': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:22:57,241 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:22:57,249 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:22:57,250 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:22:57,251 sqlalchemy.engine.base.Engine INFO {'param_1': '1e2afb26-490b-4c80-b129-b23e7972dfaa'}
2020-12-03 15:23:00,684 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:00,685 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:00,695 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:23:00,696 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:23:00,777 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:00,778 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:03,452 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:03,453 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:23:03,456 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:23:03,458 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:23:03,459 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 22, 57, 196000)}
2020-12-03 15:23:06,730 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:06,730 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:06,745 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:23:06,745 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:23:06,827 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:06,827 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:07,563 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:07,564 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:23:07,587 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:23:07,589 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:23:07,589 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 22, 57, 196000)}
2020-12-03 15:23:09,083 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:09,083 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:09,093 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:23:09,093 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:23:09,114 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:09,115 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:10,548 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:23:10,548 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 22, 57, 196000)}
2020-12-03 15:23:10,561 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:23:10,563 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:10,563 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:23:12,018 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:12,018 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:12,029 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:23:12,029 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:23:12,177 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:12,177 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:13,790 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:13,791 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:23:13,809 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:23:13,810 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:23:13,811 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 22, 57, 196000)}
2020-12-03 15:23:20,857 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:20,857 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:20,868 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:23:20,868 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:23:20,950 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:20,951 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:26,640 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:26,641 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:23:26,661 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:23:26,663 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:23:26,664 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 22, 57, 196000)}
2020-12-03 15:23:39,158 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:39,158 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:23:39,169 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:23:39,169 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466', 'group_id_2': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:23:39,192 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:39,192 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:23:39,213 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:39,214 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:40,122 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:40,122 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:40,141 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:23:40,143 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:23:40,144 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 22, 57, 196000)}
2020-12-03 15:23:41,733 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:41,734 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:23:41,744 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:23:41,744 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466', 'group_id_2': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:23:41,765 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:41,766 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:23:41,778 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:41,778 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:43,202 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:23:43,202 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:23:43,210 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:23:43,210 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 22, 57, 196000)}
2020-12-03 15:32:56,873 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:32:56,875 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:32:56,884 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:32:56,884 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:34:01,968 root INFO Listening on port 5000..
2020-12-03 15:35:23,864 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:23,898 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:35:23,909 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:35:31,659 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:35:31,670 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:35:31,728 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:31,743 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:35:31,776 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:35:50,198 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:35:50,205 sqlalchemy.engine.base.Engine INFO {'id': 'ccd64d5e-890b-481c-a837-48af30961c41', 'group_name': 'thefuc-vuongle', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 50, 198201), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:35:50,227 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:50,246 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:35:50,259 sqlalchemy.engine.base.Engine INFO {'id': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'group_name': 'thefuc-vuongle', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 50, 246677), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:35:50,291 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:50,300 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:50,313 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:50,342 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:50,370 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:50,409 sqlalchemy.engine.base.Engine INFO {'param_1': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:35:50,443 sqlalchemy.engine.base.Engine INFO {'param_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f'}
2020-12-03 15:35:50,495 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:35:50,516 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:35:50,525 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'ccd64d5e-890b-481c-a837-48af30961c41', 'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:35:50,549 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:35:50,603 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:35:50,641 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:35:50,653 sqlalchemy.engine.base.Engine INFO {'group_id': 'ccd64d5e-890b-481c-a837-48af30961c41', 'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 50, 603170), 'updated_at': datetime.datetime(2020, 12, 3, 15, 35, 50, 603207)}
2020-12-03 15:35:50,677 sqlalchemy.engine.base.Engine INFO {'group_id': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 50, 641132), 'updated_at': datetime.datetime(2020, 12, 3, 15, 35, 50, 641149)}
2020-12-03 15:35:50,716 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:50,757 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:50,782 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:50,820 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:50,822 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:50,850 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:50,872 sqlalchemy.engine.base.Engine INFO {'param_1': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:35:50,894 sqlalchemy.engine.base.Engine INFO {'param_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f'}
2020-12-03 15:35:50,945 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:35:50,982 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:35:50,994 sqlalchemy.engine.base.Engine INFO {'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_group_id': 'ccd64d5e-890b-481c-a837-48af30961c41', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 50, 945314)}
2020-12-03 15:35:51,023 sqlalchemy.engine.base.Engine INFO {'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_group_id': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 50, 982225)}
2020-12-03 15:35:51,091 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:51,121 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:51,146 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:51,164 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:51,178 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:51,179 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:51,204 sqlalchemy.engine.base.Engine INFO {'param_1': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:35:51,221 sqlalchemy.engine.base.Engine INFO {'param_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f'}
2020-12-03 15:35:51,230 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:35:51,239 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:35:51,257 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'ccd64d5e-890b-481c-a837-48af30961c41', 'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:35:51,279 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:35:51,311 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:35:51,337 sqlalchemy.engine.base.Engine INFO {'group_id': 'ccd64d5e-890b-481c-a837-48af30961c41', 'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 51, 311529), 'updated_at': datetime.datetime(2020, 12, 3, 15, 35, 51, 311545)}
2020-12-03 15:35:51,352 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:35:51,377 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:51,388 sqlalchemy.engine.base.Engine INFO {'group_id': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 51, 351940), 'updated_at': datetime.datetime(2020, 12, 3, 15, 35, 51, 351957)}
2020-12-03 15:35:51,429 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:51,445 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:51,455 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:51,487 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:51,487 sqlalchemy.engine.base.Engine INFO {'param_1': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:35:51,505 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:51,543 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:35:51,558 sqlalchemy.engine.base.Engine INFO {'param_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f'}
2020-12-03 15:35:51,564 sqlalchemy.engine.base.Engine INFO {'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'ref_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_group_id': 'ccd64d5e-890b-481c-a837-48af30961c41', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 51, 543050)}
2020-12-03 15:35:51,604 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:35:51,645 sqlalchemy.engine.base.Engine INFO {'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'ref_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_group_id': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 51, 603988)}
2020-12-03 15:35:51,661 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:51,673 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:51,698 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:51,708 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:51,726 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:51,769 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:51,796 sqlalchemy.engine.base.Engine INFO {'param_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f'}
2020-12-03 15:35:51,812 sqlalchemy.engine.base.Engine INFO {'param_1': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:35:51,850 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:35:51,891 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:35:51,905 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f'}
2020-12-03 15:35:51,929 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:35:58,371 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:35:58,383 sqlalchemy.engine.base.Engine INFO {'id': '07e4700d-fe05-42ef-bef6-a60272314093', 'group_id': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'from_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'message': <psycopg2.extensions.Binary object at 0x7fd166149cf0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 58, 369079), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:35:58,408 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:58,422 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:35:58,432 sqlalchemy.engine.base.Engine INFO {'id': 'd39c212c-cdbf-4733-a3b3-ece0c4677fe3', 'group_id': 'ccd64d5e-890b-481c-a837-48af30961c41', 'from_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'client_id': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54', 'message': <psycopg2.extensions.Binary object at 0x7fd166140d20>, 'created_at': datetime.datetime(2020, 12, 3, 15, 35, 58, 421599), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:35:58,445 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:58,446 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:58,459 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:58,472 sqlalchemy.engine.base.Engine INFO {'param_1': '9741cf68-39be-4894-9d06-d5e9ffb45d1f'}
2020-12-03 15:35:58,483 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:35:58,483 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 35, 58, 483125), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 35, 58, 369079), 'last_message_id': '07e4700d-fe05-42ef-bef6-a60272314093', 'group_chat_id': '9741cf68-39be-4894-9d06-d5e9ffb45d1f'}
2020-12-03 15:35:58,485 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:58,486 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:35:58,486 sqlalchemy.engine.base.Engine INFO {'param_1': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:35:58,501 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:35:58,508 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:58,519 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 35, 58, 501181), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 35, 58, 421599), 'last_message_id': 'd39c212c-cdbf-4733-a3b3-ece0c4677fe3', 'group_chat_id': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:35:58,554 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:58,566 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:35:58,591 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:35:58,631 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:35:58,666 sqlalchemy.engine.base.Engine INFO {'param_1': '07e4700d-fe05-42ef-bef6-a60272314093'}
2020-12-03 15:35:58,697 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:35:58,748 sqlalchemy.engine.base.Engine INFO {'param_1': 'd39c212c-cdbf-4733-a3b3-ece0c4677fe3'}
2020-12-03 15:36:19,985 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:36:19,998 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7b679dd5-c33f-4450-ad4b-73093b264905'}
2020-12-03 15:36:20,024 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:36:20,036 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a044914f-4bf4-4943-b420-7af68e44d466', 'group_id_2': 'c706f789-3020-48c4-97ae-8841dfde5f1b'}
2020-12-03 15:36:20,188 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:36:20,224 sqlalchemy.engine.base.Engine INFO {'client_id_1': '503ff7ff-84b2-4383-a09e-e4119aae512d'}
2020-12-03 15:36:20,229 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:36:20,302 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:36:20,327 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:36:57,452 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:36:57,465 sqlalchemy.engine.base.Engine INFO {'id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:03,582 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:03,595 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:03,632 sqlalchemy.engine.base.Engine INFO UPDATE peer_client_key SET device_id=%(device_id)s, registration_id=%(registration_id)s, identity_key_public=%(identity_key_public)s, prekey=%(prekey)s, signed_prekey_id=%(signed_prekey_id)s, signed_prekey=%(signed_prekey)s, signed_prekey_signature=%(signed_prekey_signature)s, updated_at=%(updated_at)s WHERE peer_client_key.id = %(peer_client_key_id)s
2020-12-03 15:37:03,642 sqlalchemy.engine.base.Engine INFO {'device_id': 911522256, 'registration_id': 1668544541, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd166291ab0>, 'prekey': <psycopg2.extensions.Binary object at 0x7fd166291b10>, 'signed_prekey_id': 1570525616, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd166291810>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd1662917e0>, 'updated_at': datetime.datetime(2020, 12, 3, 15, 37, 3, 631759), 'peer_client_key_id': 14}
2020-12-03 15:37:04,119 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:37:04,203 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:37:04,229 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:04,241 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:09,175 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:37:09,180 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:09,191 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:09,198 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:37:09,241 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s, %(group_id_5)s, %(group_id_6)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:37:09,243 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:09,289 sqlalchemy.engine.base.Engine INFO {'group_id_1': '001511c0-d883-438b-bfb9-b8df9067d079', 'group_id_2': '03c35114-9458-4c93-b31e-482040de7fee', 'group_id_3': '804d4107-1964-4e11-bac8-32429ca9ca36', 'group_id_4': 'e50cca1e-958f-4aa3-8178-22a0fb4b31f7', 'group_id_5': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'group_id_6': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:37:09,298 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:09,416 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s, %(group_id_5)s, %(group_id_6)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:37:09,437 sqlalchemy.engine.base.Engine INFO {'group_id_1': '001511c0-d883-438b-bfb9-b8df9067d079', 'group_id_2': '03c35114-9458-4c93-b31e-482040de7fee', 'group_id_3': '804d4107-1964-4e11-bac8-32429ca9ca36', 'group_id_4': 'e50cca1e-958f-4aa3-8178-22a0fb4b31f7', 'group_id_5': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'group_id_6': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:37:09,439 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:37:09,470 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:37:09,471 sqlalchemy.engine.base.Engine INFO {'id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:10,045 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:37:10,058 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:37:10,070 sqlalchemy.engine.base.Engine INFO {'id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:11,061 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:11,063 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:11,066 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:11,066 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'f83105b3-7506-4c9e-b4ef-2e104feb8a02'}
2020-12-03 15:37:11,090 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:11,119 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:37:11,256 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:11,268 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7403bcab-d9d8-47d6-a678-c161b16706d8'}
2020-12-03 15:37:11,382 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:11,390 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:11,399 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:11,439 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:15,421 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:15,430 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:15,430 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'f83105b3-7506-4c9e-b4ef-2e104feb8a02'}
2020-12-03 15:37:15,469 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:17,404 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:17,415 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:37:17,429 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:17,443 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7403bcab-d9d8-47d6-a678-c161b16706d8'}
2020-12-03 15:37:20,287 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:20,290 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:20,300 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:20,309 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:36,655 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:37:36,663 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:36,663 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:37:36,688 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:37:39,546 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:39,547 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:39,575 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s, %(group_id_5)s, %(group_id_6)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:37:39,609 sqlalchemy.engine.base.Engine INFO {'group_id_1': '001511c0-d883-438b-bfb9-b8df9067d079', 'group_id_2': '03c35114-9458-4c93-b31e-482040de7fee', 'group_id_3': '804d4107-1964-4e11-bac8-32429ca9ca36', 'group_id_4': 'e50cca1e-958f-4aa3-8178-22a0fb4b31f7', 'group_id_5': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'group_id_6': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:37:39,745 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:39,758 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'f83105b3-7506-4c9e-b4ef-2e104feb8a02'}
2020-12-03 15:37:39,766 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:39,790 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:39,827 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:39,834 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:37:39,905 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:39,914 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:39,916 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:39,959 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7403bcab-d9d8-47d6-a678-c161b16706d8'}
2020-12-03 15:37:39,976 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:37:39,988 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:37:53,434 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:37:53,446 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:38:07,284 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:38:07,291 sqlalchemy.engine.base.Engine INFO {'id': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79', 'username': 'phuongle', 'email': 'gAAAAABfyKPvF7W1CFjcamQYMNfxKEEpFp_luDYC2yLlQMaXg67pjhQ1E2UgMQb4lJxzHKXDZMgICm2icuQE82mscXS-bqsZXQkm3A540C4DBsufj_PPJJk=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 38, 7, 284620), 'updated_at': datetime.datetime(2020, 12, 3, 15, 38, 7, 284642)}
2020-12-03 15:38:07,319 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:38:12,570 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:38:12,584 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:38:12,595 sqlalchemy.engine.base.Engine INFO {'id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:38:12,775 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:38:12,787 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:38:12,826 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:38:12,832 sqlalchemy.engine.base.Engine INFO {'client_id': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79', 'device_id': 1330764679, 'registration_id': 518519014, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd1662bf600>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fd1662bf060>, 'signed_prekey_id': 794888379, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd1662bf750>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd1662bfa80>, 'created_at': datetime.datetime(2020, 12, 3, 15, 38, 12, 826492), 'updated_at': datetime.datetime(2020, 12, 3, 15, 38, 12, 826517)}
2020-12-03 15:38:12,861 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:38:13,036 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:38:13,050 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:38:13,056 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:39:36,017 root INFO Listening on port 5000..
2020-12-03 15:39:40,445 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:39:40,454 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:39:40,454 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:39:41,313 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:39:41,319 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:39:41,319 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:39:41,336 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:39:41,336 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'group_id_2': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'group_id_3': 'ccd64d5e-890b-481c-a837-48af30961c41'}
2020-12-03 15:39:43,925 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:39:43,926 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:39:43,934 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:39:43,937 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:39:43,937 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:39:43,945 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:39:43,946 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:39:43,946 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:40:06,016 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:40:06,016 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:40:06,026 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:40:06,030 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:40:06,030 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:40:06,030 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:40:06,040 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:40:06,040 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:40:10,660 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:40:10,661 sqlalchemy.engine.base.Engine INFO {'id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:40:14,861 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:40:14,862 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:40:14,876 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:40:14,876 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:40:19,719 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:40:19,720 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:40:21,704 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:40:21,704 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:40:21,722 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:40:21,724 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:40:21,724 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:40:35,229 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:40:35,229 sqlalchemy.engine.base.Engine INFO {'id': 'f739a35b-0249-4108-bff5-c337628e8ffd', 'group_name': 'phuongle-vuongle', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'created_at': datetime.datetime(2020, 12, 3, 15, 40, 35, 229054), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:40:35,234 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:40:35,256 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:40:35,258 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:40:35,258 sqlalchemy.engine.base.Engine INFO {'param_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:40:35,270 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:40:35,270 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'f739a35b-0249-4108-bff5-c337628e8ffd', 'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:40:35,811 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:40:35,811 sqlalchemy.engine.base.Engine INFO {'group_id': 'f739a35b-0249-4108-bff5-c337628e8ffd', 'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 40, 35, 811475), 'updated_at': datetime.datetime(2020, 12, 3, 15, 40, 35, 811499)}
2020-12-03 15:40:35,815 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:40:35,830 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:40:35,833 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:40:35,833 sqlalchemy.engine.base.Engine INFO {'param_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:40:35,849 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:40:35,849 sqlalchemy.engine.base.Engine INFO {'client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_group_id': 'f739a35b-0249-4108-bff5-c337628e8ffd', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 40, 35, 849141)}
2020-12-03 15:40:35,857 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:40:35,863 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:40:35,868 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:40:35,868 sqlalchemy.engine.base.Engine INFO {'param_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:40:35,876 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:40:35,876 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'f739a35b-0249-4108-bff5-c337628e8ffd', 'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:40:35,881 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:40:35,881 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:40:35,881 sqlalchemy.engine.base.Engine INFO {'group_id': 'f739a35b-0249-4108-bff5-c337628e8ffd', 'client_id': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 40, 35, 881195), 'updated_at': datetime.datetime(2020, 12, 3, 15, 40, 35, 881211)}
2020-12-03 15:40:35,883 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:40:35,884 sqlalchemy.engine.base.Engine INFO {'param_1': 90}
2020-12-03 15:40:35,931 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:40:35,937 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:40:35,942 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:40:35,943 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:40:35,943 sqlalchemy.engine.base.Engine INFO {'param_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:40:35,951 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:40:35,951 sqlalchemy.engine.base.Engine INFO {'client_id': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79', 'ref_client_id': 'a574e1d9-1c23-4216-851a-881b0e76dc64', 'ref_group_id': 'f739a35b-0249-4108-bff5-c337628e8ffd', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 40, 35, 951492)}
2020-12-03 15:40:35,955 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:40:35,963 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:40:35,965 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:40:35,966 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:40:35,968 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:40:35,968 sqlalchemy.engine.base.Engine INFO {'param_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:40:35,968 sqlalchemy.engine.base.Engine INFO {'param_1': 91}
2020-12-03 15:40:35,978 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:40:35,979 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:40:39,908 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:40:39,908 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:40:39,919 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:40:39,919 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:40:39,940 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:40:39,941 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:41:33,488 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:33,488 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:33,500 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:41:33,500 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'group_id_2': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'group_id_3': 'ccd64d5e-890b-481c-a837-48af30961c41', 'group_id_4': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:41:33,528 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:33,529 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:33,543 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:33,543 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:41:33,549 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:41:33,550 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:33,551 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:41:33,554 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:41:33,556 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:33,556 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:41:35,361 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:41:35,362 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:35,486 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:41:35,486 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:36,426 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:41:36,426 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:37,068 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:41:37,068 sqlalchemy.engine.base.Engine INFO {'id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:40,570 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:40,570 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:41:40,573 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:41:40,574 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:41:42,407 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:42,408 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:42,418 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:41:42,419 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'group_id_2': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'group_id_3': 'ccd64d5e-890b-481c-a837-48af30961c41', 'group_id_4': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:41:42,516 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:42,517 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:42,520 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:42,521 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:41:42,525 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:42,525 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:41:42,540 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:41:42,541 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:42,542 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:41:42,958 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:42,958 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:41:42,965 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:41:42,966 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:41:44,465 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:44,466 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:44,481 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:41:44,482 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c706f789-3020-48c4-97ae-8841dfde5f1b', 'group_id_2': '9741cf68-39be-4894-9d06-d5e9ffb45d1f', 'group_id_3': 'ccd64d5e-890b-481c-a837-48af30961c41', 'group_id_4': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:41:44,526 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:44,527 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a574e1d9-1c23-4216-851a-881b0e76dc64'}
2020-12-03 15:41:44,530 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:44,532 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:41:44,537 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:44,538 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'a3f9a9bd-b4fc-452b-ac05-e11066d87a54'}
2020-12-03 15:41:44,541 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:41:44,541 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:42:14,905 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:42:14,905 sqlalchemy.engine.base.Engine INFO {'id': 'ed02180e-7645-4dc9-9f75-54307d3ec301', 'username': 'huyenle', 'email': 'gAAAAABfyKTmxYYkINptOIrOrhPxd6gih_78u5ZGMFQKp1bro-ipAVUMZADuRAGz8hxMWhJjq4kx7PUmrNMCboIXl5pfW1tGQG_J9xI0ATsV22Vx8SjWTUc=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 42, 14, 905142), 'updated_at': datetime.datetime(2020, 12, 3, 15, 42, 14, 905164)}
2020-12-03 15:42:14,909 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:42:14,922 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:42:20,227 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:42:20,229 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:42:20,229 sqlalchemy.engine.base.Engine INFO {'id_1': 'ed02180e-7645-4dc9-9f75-54307d3ec301'}
2020-12-03 15:42:20,280 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:42:20,281 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ed02180e-7645-4dc9-9f75-54307d3ec301'}
2020-12-03 15:42:20,303 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:42:20,304 sqlalchemy.engine.base.Engine INFO {'client_id': 'ed02180e-7645-4dc9-9f75-54307d3ec301', 'device_id': 1305385345, 'registration_id': 326756551, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7ff4e5bb14b0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7ff4e5bb1c60>, 'signed_prekey_id': 972823388, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7ff4e5bb1ea0>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7ff4e5bb14e0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 42, 20, 303339), 'updated_at': datetime.datetime(2020, 12, 3, 15, 42, 20, 303368)}
2020-12-03 15:42:20,476 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:42:20,513 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:42:20,515 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:42:20,515 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ed02180e-7645-4dc9-9f75-54307d3ec301'}
2020-12-03 15:43:22,439 root INFO Listening on port 5000..
2020-12-03 15:43:25,684 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:43:25,722 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:43:25,738 sqlalchemy.engine.base.Engine INFO {'id_1': 'ed02180e-7645-4dc9-9f75-54307d3ec301'}
2020-12-03 15:43:53,073 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:43:53,075 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:43:53,075 sqlalchemy.engine.base.Engine INFO {'id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:43:53,208 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:43:53,213 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:43:53,213 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:43:53,227 sqlalchemy.engine.base.Engine INFO UPDATE peer_client_key SET device_id=%(device_id)s, registration_id=%(registration_id)s, identity_key_public=%(identity_key_public)s, prekey=%(prekey)s, signed_prekey_id=%(signed_prekey_id)s, signed_prekey=%(signed_prekey)s, signed_prekey_signature=%(signed_prekey_signature)s, updated_at=%(updated_at)s WHERE peer_client_key.id = %(peer_client_key_id)s
2020-12-03 15:43:53,228 sqlalchemy.engine.base.Engine INFO {'device_id': 842377598, 'registration_id': 1334585917, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fc98eb31750>, 'prekey': <psycopg2.extensions.Binary object at 0x7fc98eb316c0>, 'signed_prekey_id': 1801646426, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fc98eb31570>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fc98eb31510>, 'updated_at': datetime.datetime(2020, 12, 3, 15, 43, 53, 227430), 'peer_client_key_id': 24}
2020-12-03 15:43:53,233 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:43:53,288 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:43:53,288 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:43:53,702 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:43:53,707 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:43:53,707 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:43:53,723 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:43:53,726 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:43:53,727 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:43:53,728 sqlalchemy.engine.base.Engine INFO {'id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:43:53,731 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:43:53,733 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:43:53,733 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:43:53,751 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:43:53,752 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'f739a35b-0249-4108-bff5-c337628e8ffd'}
2020-12-03 15:43:53,755 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:43:53,755 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:43:53,771 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:43:53,772 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:43:53,774 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:43:53,776 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:43:53,776 sqlalchemy.engine.base.Engine INFO {'id_1': 'b6dfea68-3859-4f73-859b-2dfd3e22cc79'}
2020-12-03 15:45:09,317 root INFO Listening on port 5000..
2020-12-03 15:46:10,461 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:10,463 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:46:10,463 sqlalchemy.engine.base.Engine INFO {'id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'username': 'anhthoan', 'email': 'gAAAAABfyKXSt0Ol_QlsvuX14G6Xq2iGk3O_2gdr9212ahTlMCTmITB9ALcfpEwb94mp7XjplMRt_klECwJeVM09Sn2A29cNrKYDj5FZIgm9zMhnd7BGzKU=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 10, 463084), 'updated_at': datetime.datetime(2020, 12, 3, 15, 46, 10, 463109)}
2020-12-03 15:46:10,471 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:25,163 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:25,163 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:46:25,164 sqlalchemy.engine.base.Engine INFO {'id': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7', 'username': 'bantiem', 'email': 'gAAAAABfyKXh43pDun5pmOzLrNYK4tVJ-jnVYCUd45G8rbCjRoWpaOZlobUuU3M_OxaeyitB-o6km7HYv8lXkpWtFpCL1PHisC6BtQIPPHr8gXJo_dmCthU=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 25, 163825), 'updated_at': datetime.datetime(2020, 12, 3, 15, 46, 25, 163840)}
2020-12-03 15:46:25,170 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:30,842 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:30,844 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:46:30,845 sqlalchemy.engine.base.Engine INFO {'id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:30,889 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:30,889 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:30,896 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:46:30,897 sqlalchemy.engine.base.Engine INFO {'client_id': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7', 'device_id': 2125937563, 'registration_id': 2108319488, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd26b362e10>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fd26b362e40>, 'signed_prekey_id': 693954551, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd26b362e70>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd26b362ea0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 30, 896624), 'updated_at': datetime.datetime(2020, 12, 3, 15, 46, 30, 896653)}
2020-12-03 15:46:30,902 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:30,947 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:30,950 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:30,951 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:31,128 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:31,133 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:31,134 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:31,147 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:46:31,147 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:46:31,158 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:31,160 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:31,163 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:31,173 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:46:31,174 sqlalchemy.engine.base.Engine INFO {'id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:31,177 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:46:31,179 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:46:31,219 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:31,221 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:46:31,221 sqlalchemy.engine.base.Engine INFO {'id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:43,584 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:46:43,584 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:46:43,639 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:43,640 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:46:43,644 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:46:43,645 sqlalchemy.engine.base.Engine INFO {'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'device_id': 332288924, 'registration_id': 1633526526, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd26b3ae750>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fd26b3aed20>, 'signed_prekey_id': 690290331, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd26b3aefc0>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd26b3aeb40>, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 43, 644788), 'updated_at': datetime.datetime(2020, 12, 3, 15, 46, 43, 644813)}
2020-12-03 15:46:43,650 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:43,695 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:43,697 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:43,697 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:46:43,895 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:43,896 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:46:43,904 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:46:43,904 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:46:45,420 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:46:45,420 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:46:48,226 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:48,227 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:48,253 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:48,255 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:46:48,255 sqlalchemy.engine.base.Engine INFO {'group_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:53,728 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:46:53,728 sqlalchemy.engine.base.Engine INFO {'id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_name': 'bantiem-anhthoan', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 727699), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:46:53,733 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:53,749 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:53,751 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:46:53,751 sqlalchemy.engine.base.Engine INFO {'param_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:53,762 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:53,762 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:46:53,769 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:46:53,769 sqlalchemy.engine.base.Engine INFO {'group_id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 768924), 'updated_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 768954)}
2020-12-03 15:46:53,774 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:53,781 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:53,783 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:46:53,783 sqlalchemy.engine.base.Engine INFO {'param_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:53,794 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:46:53,795 sqlalchemy.engine.base.Engine INFO {'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_group_id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 794611)}
2020-12-03 15:46:53,800 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:53,815 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:53,819 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:46:53,820 sqlalchemy.engine.base.Engine INFO {'param_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:53,832 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:53,832 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:53,836 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:46:53,836 sqlalchemy.engine.base.Engine INFO {'group_id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'client_id': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 836400), 'updated_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 836421)}
2020-12-03 15:46:53,837 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:53,839 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:46:53,839 sqlalchemy.engine.base.Engine INFO {'param_1': 1}
2020-12-03 15:46:53,840 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:53,850 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:53,864 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:53,866 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:46:53,866 sqlalchemy.engine.base.Engine INFO {'param_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:53,876 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:46:53,876 sqlalchemy.engine.base.Engine INFO {'client_id': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7', 'ref_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_group_id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 876114)}
2020-12-03 15:46:53,881 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:53,891 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:53,892 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:53,894 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:46:53,896 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:46:53,896 sqlalchemy.engine.base.Engine INFO {'param_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:53,896 sqlalchemy.engine.base.Engine INFO {'param_1': 2}
2020-12-03 15:46:53,906 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:46:53,907 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:53,969 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:53,969 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:46:53,977 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:46:53,978 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:53,994 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:46:53,995 sqlalchemy.engine.base.Engine INFO {'id': 'ea98f9b3-2679-4c88-b5b9-7b504d457fd7', 'group_id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'from_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'client_id': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7', 'message': <psycopg2.extensions.Binary object at 0x7fd26b3df1b0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 991712), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:46:53,999 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:46:54,000 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:54,000 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 15:46:54,005 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 15:46:54,012 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:54,018 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:54,020 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:46:54,020 sqlalchemy.engine.base.Engine INFO {'param_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:54,032 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:46:54,032 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 46, 54, 32173), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 46, 53, 991712), 'last_message_id': 'ea98f9b3-2679-4c88-b5b9-7b504d457fd7', 'group_chat_id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:46:54,036 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:46:54,051 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:46:54,052 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:46:54,053 sqlalchemy.engine.base.Engine INFO {'param_1': 'ea98f9b3-2679-4c88-b5b9-7b504d457fd7'}
2020-12-03 15:48:01,850 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:48:01,851 sqlalchemy.engine.base.Engine INFO {'id': 'fba4fa05-1eb3-4976-8dd2-c43cbbfdcdca', 'group_id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'from_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'client_id': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7', 'message': <psycopg2.extensions.Binary object at 0x7fd26b3f5030>, 'created_at': datetime.datetime(2020, 12, 3, 15, 48, 1, 849542), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:48:01,856 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:48:02,011 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:48:02,013 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:48:02,013 sqlalchemy.engine.base.Engine INFO {'param_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:48:02,113 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:48:02,113 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 48, 2, 113045), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 48, 1, 849542), 'last_message_id': 'fba4fa05-1eb3-4976-8dd2-c43cbbfdcdca', 'group_chat_id': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:48:02,117 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:48:02,126 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:48:02,128 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:48:02,128 sqlalchemy.engine.base.Engine INFO {'param_1': 'fba4fa05-1eb3-4976-8dd2-c43cbbfdcdca'}
2020-12-03 15:49:21,750 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:49:21,751 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:49:21,758 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:49:21,758 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:49:21,774 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:49:21,774 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:49:25,371 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:49:25,375 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:49:25,375 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:49:25,376 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:49:25,377 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 48, 1, 849000)}
2020-12-03 15:49:31,420 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:49:31,421 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:49:31,429 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:49:31,430 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:49:31,466 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:49:31,467 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:49:34,752 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:49:34,753 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:49:34,760 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:49:34,760 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:50:22,499 root INFO Listening on port 5000..
2020-12-03 15:50:40,549 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:50:40,552 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:50:40,552 sqlalchemy.engine.base.Engine INFO {'id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'username': 'tuanha', 'email': 'gAAAAABfyKbgv3Co6L9-H8a_eCb1N1rbENNrpUqLE16XcOMbQYv8Tux_yQCGMRToCtdDeGqp7tZ2MLVvSc7OdNqoF84tjQ_Tzw==', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 50, 40, 552167), 'updated_at': datetime.datetime(2020, 12, 3, 15, 50, 40, 552192)}
2020-12-03 15:50:40,562 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:50:51,230 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:50:51,233 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:50:51,234 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:50:51,334 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:50:51,336 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:50:51,337 sqlalchemy.engine.base.Engine INFO {'id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:50:52,177 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:50:52,181 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:50:52,181 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:50:52,194 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:50:52,194 sqlalchemy.engine.base.Engine INFO {'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'device_id': 111, 'registration_id': 9278, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd2273680f0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fd227368120>, 'signed_prekey_id': 5, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd227368150>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd227368180>, 'created_at': datetime.datetime(2020, 12, 3, 15, 50, 52, 193740), 'updated_at': datetime.datetime(2020, 12, 3, 15, 50, 52, 193774)}
2020-12-03 15:50:52,203 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:50:53,056 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:50:53,056 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:50:53,066 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:50:53,066 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:50:53,315 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:50:53,316 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:50:53,325 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:50:53,325 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:50:53,342 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:50:53,342 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:50:54,162 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:50:54,162 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:50:54,964 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:50:54,965 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:51:08,697 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:51:08,697 sqlalchemy.engine.base.Engine INFO {'id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'username': 'anhphuong', 'email': 'gAAAAABfyKb8Is-7X50o2XNdwwCyALCkjbkvHQe4EMX2u9uuVvX_udk5tjaJZbBBhBL_da1rvL0OHxu617XpsBWnPnjDPv1ieaQgu4wuJCvvqoxxOvbZcaY=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 8, 696994), 'updated_at': datetime.datetime(2020, 12, 3, 15, 51, 8, 697012)}
2020-12-03 15:51:08,701 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:18,948 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:18,949 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 15:51:18,949 sqlalchemy.engine.base.Engine INFO {'id': '09972895-b834-42a8-93f5-c3797fd38a15', 'username': 'tuanha1', 'email': 'gAAAAABfyKcGl91zT-6U0ahyctKKrlK4N_BR9bJdEBxl-l7-k35akWR0zH4L_d6AdKNhGtFadu3v5UeI2pMkazs0jF1qW3tGXg==', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 18, 949068), 'updated_at': datetime.datetime(2020, 12, 3, 15, 51, 18, 949086)}
2020-12-03 15:51:18,959 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:31,592 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:31,593 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:51:31,594 sqlalchemy.engine.base.Engine INFO {'id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:51:31,855 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:31,856 sqlalchemy.engine.base.Engine INFO {'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:51:31,862 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:51:31,862 sqlalchemy.engine.base.Engine INFO {'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'device_id': 111, 'registration_id': 4994, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd22739c930>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fd22739c2d0>, 'signed_prekey_id': 5, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd22739c090>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd22739c6c0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 31, 861922), 'updated_at': datetime.datetime(2020, 12, 3, 15, 51, 31, 861947)}
2020-12-03 15:51:31,868 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:32,262 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:32,264 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:32,265 sqlalchemy.engine.base.Engine INFO {'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:51:32,278 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:51:32,279 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:51:34,321 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:51:34,321 sqlalchemy.engine.base.Engine INFO {'id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:51:50,540 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:51:50,541 sqlalchemy.engine.base.Engine INFO {'id': '29d1b191-c701-4be6-bb68-273a6d229022', 'group_name': 'tuanha1,tuanha', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '09972895-b834-42a8-93f5-c3797fd38a15', 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 50, 539985), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:51:50,547 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:50,572 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:50,574 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:51:50,574 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:50,585 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:50,585 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022', 'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:51:50,591 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:51:50,591 sqlalchemy.engine.base.Engine INFO {'group_id': '29d1b191-c701-4be6-bb68-273a6d229022', 'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 50, 591278), 'updated_at': datetime.datetime(2020, 12, 3, 15, 51, 50, 591311)}
2020-12-03 15:51:50,596 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:50,606 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:50,607 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:51:50,608 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:50,619 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:51:50,619 sqlalchemy.engine.base.Engine INFO {'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'ref_client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'ref_group_id': '29d1b191-c701-4be6-bb68-273a6d229022', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 50, 619368)}
2020-12-03 15:51:50,624 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:50,630 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:50,632 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:50,634 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:51:50,637 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:51:50,638 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:50,638 sqlalchemy.engine.base.Engine INFO {'param_1': 3}
2020-12-03 15:51:50,650 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:50,651 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022', 'client_id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:51:50,656 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:51:50,656 sqlalchemy.engine.base.Engine INFO {'group_id': '29d1b191-c701-4be6-bb68-273a6d229022', 'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 50, 656139), 'updated_at': datetime.datetime(2020, 12, 3, 15, 51, 50, 656158)}
2020-12-03 15:51:50,659 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:50,671 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:50,675 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:50,676 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:51:50,676 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:50,682 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:51:50,683 sqlalchemy.engine.base.Engine INFO {'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'ref_client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'ref_group_id': '29d1b191-c701-4be6-bb68-273a6d229022', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 50, 682874)}
2020-12-03 15:51:50,686 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:50,697 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:50,699 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:51:50,701 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:51:50,701 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:50,702 sqlalchemy.engine.base.Engine INFO {'param_1': 4}
2020-12-03 15:51:50,711 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:51:50,713 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:50,809 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:50,810 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:51:52,948 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:51:52,949 sqlalchemy.engine.base.Engine INFO {'id': '38d374ed-554e-4e1a-a277-fda95c60ac6e', 'group_id': '29d1b191-c701-4be6-bb68-273a6d229022', 'from_client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'message': <psycopg2.extensions.Binary object at 0x7fd2273c5c60>, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 52, 944387), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:51:53,030 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:53,048 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:53,049 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:51:53,050 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:53,057 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:51:53,058 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 51, 53, 57823), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 51, 52, 944387), 'last_message_id': '38d374ed-554e-4e1a-a277-fda95c60ac6e', 'group_chat_id': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:53,062 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:53,074 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:53,076 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:51:53,076 sqlalchemy.engine.base.Engine INFO {'param_1': '38d374ed-554e-4e1a-a277-fda95c60ac6e'}
2020-12-03 15:51:53,535 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 15:51:53,536 sqlalchemy.engine.base.Engine INFO {'id_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:53,548 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:51:53,548 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:51:54,595 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:51:54,595 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:51:54,634 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:54,634 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:51:54,640 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 15:51:54,640 sqlalchemy.engine.base.Engine INFO {'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'device_id': 460273533, 'registration_id': 698944436, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd2273c7c00>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fd2273c73c0>, 'signed_prekey_id': 1277945948, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd2273c7b70>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd2273c7cc0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 51, 54, 640125), 'updated_at': datetime.datetime(2020, 12, 3, 15, 51, 54, 640149)}
2020-12-03 15:51:54,645 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:51:54,675 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:54,677 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:54,678 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:51:54,861 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:54,864 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:54,865 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:51:54,878 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:51:54,878 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:51:54,894 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:51:54,897 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:51:54,898 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:51:54,911 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:51:54,912 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:51:54,932 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:51:54,932 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:51:54,961 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:51:54,961 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:52:34,706 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:52:34,706 sqlalchemy.engine.base.Engine INFO {'id': '65563987-3fc5-44dd-b572-46a91ac6cfda', 'group_id': '29d1b191-c701-4be6-bb68-273a6d229022', 'from_client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'message': <psycopg2.extensions.Binary object at 0x7fd2273eb7e0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 52, 34, 705101), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:52:34,711 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:52:34,737 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:52:34,739 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:52:34,739 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:52:34,747 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:52:34,747 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 52, 34, 747465), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 52, 34, 705101), 'last_message_id': '65563987-3fc5-44dd-b572-46a91ac6cfda', 'group_chat_id': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:52:34,751 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:52:34,761 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:52:34,763 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:52:34,763 sqlalchemy.engine.base.Engine INFO {'param_1': '65563987-3fc5-44dd-b572-46a91ac6cfda'}
2020-12-03 15:52:38,318 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 15:52:38,318 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022', 'created_at_1': datetime.datetime(2020, 12, 3, 15, 51, 52, 944000)}
2020-12-03 15:52:41,043 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:52:41,044 sqlalchemy.engine.base.Engine INFO {'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:52:41,361 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:52:41,361 sqlalchemy.engine.base.Engine INFO {'id': '43fd31c6-edcf-4b5f-a9d7-3c2f4ab765c7', 'group_id': '29d1b191-c701-4be6-bb68-273a6d229022', 'from_client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'message': <psycopg2.extensions.Binary object at 0x7fd2273e58a0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 52, 41, 360197), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:52:41,366 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:52:41,379 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:52:41,381 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:52:41,381 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:52:41,389 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:52:41,390 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 52, 41, 389830), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 52, 41, 360197), 'last_message_id': '43fd31c6-edcf-4b5f-a9d7-3c2f4ab765c7', 'group_chat_id': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:52:41,395 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:52:41,403 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:52:41,404 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:52:41,405 sqlalchemy.engine.base.Engine INFO {'param_1': '43fd31c6-edcf-4b5f-a9d7-3c2f4ab765c7'}
2020-12-03 15:52:46,688 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 15:52:46,688 sqlalchemy.engine.base.Engine INFO {'id': '2375611e-c676-4f1d-b45b-eced422cad2d', 'group_id': '29d1b191-c701-4be6-bb68-273a6d229022', 'from_client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'message': <psycopg2.extensions.Binary object at 0x7fd2273ebcf0>, 'created_at': datetime.datetime(2020, 12, 3, 15, 52, 46, 686753), 'updated_at': None, 'deleted_at': None}
2020-12-03 15:52:46,693 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:52:46,720 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:52:46,722 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:52:46,722 sqlalchemy.engine.base.Engine INFO {'param_1': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:52:46,734 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 15:52:46,734 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 15, 52, 46, 734042), 'last_message_at': datetime.datetime(2020, 12, 3, 15, 52, 46, 686753), 'last_message_id': '2375611e-c676-4f1d-b45b-eced422cad2d', 'group_chat_id': '29d1b191-c701-4be6-bb68-273a6d229022'}
2020-12-03 15:52:46,740 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:52:46,752 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:52:46,754 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 15:52:46,755 sqlalchemy.engine.base.Engine INFO {'param_1': '2375611e-c676-4f1d-b45b-eced422cad2d'}
2020-12-03 15:52:50,298 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:52:50,298 sqlalchemy.engine.base.Engine INFO {'id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:53:06,251 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:53:06,252 sqlalchemy.engine.base.Engine INFO {'id': '60175b28-188e-4d7a-a240-8da593da9c19', 'group_name': 'ok group', 'group_avatar': None, 'group_type': 'group', 'group_clients': None, 'created_by': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 6, 251676), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:53:06,258 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:06,284 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:06,285 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:06,286 sqlalchemy.engine.base.Engine INFO {'param_1': '60175b28-188e-4d7a-a240-8da593da9c19'}
2020-12-03 15:53:06,294 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:06,294 sqlalchemy.engine.base.Engine INFO {'group_id_1': '60175b28-188e-4d7a-a240-8da593da9c19', 'client_id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:53:06,298 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:53:06,299 sqlalchemy.engine.base.Engine INFO {'group_id': '60175b28-188e-4d7a-a240-8da593da9c19', 'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 6, 298490), 'updated_at': datetime.datetime(2020, 12, 3, 15, 53, 6, 298519)}
2020-12-03 15:53:06,411 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:06,445 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:06,448 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:06,448 sqlalchemy.engine.base.Engine INFO {'param_1': '60175b28-188e-4d7a-a240-8da593da9c19'}
2020-12-03 15:53:06,586 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:53:06,586 sqlalchemy.engine.base.Engine INFO {'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'ref_client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'ref_group_id': '60175b28-188e-4d7a-a240-8da593da9c19', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 6, 586086)}
2020-12-03 15:53:06,591 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:06,616 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:06,619 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:06,619 sqlalchemy.engine.base.Engine INFO {'param_1': '60175b28-188e-4d7a-a240-8da593da9c19'}
2020-12-03 15:53:06,628 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:06,629 sqlalchemy.engine.base.Engine INFO {'group_id_1': '60175b28-188e-4d7a-a240-8da593da9c19', 'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:53:06,761 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:53:06,762 sqlalchemy.engine.base.Engine INFO {'group_id': '60175b28-188e-4d7a-a240-8da593da9c19', 'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 6, 761600), 'updated_at': datetime.datetime(2020, 12, 3, 15, 53, 6, 761618)}
2020-12-03 15:53:06,764 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:06,768 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:06,769 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:53:06,770 sqlalchemy.engine.base.Engine INFO {'param_1': 5}
2020-12-03 15:53:06,774 sqlalchemy.engine.base.Engine INFO ROLLBACK
2020-12-03 15:53:06,784 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:06,788 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:06,788 sqlalchemy.engine.base.Engine INFO {'param_1': '60175b28-188e-4d7a-a240-8da593da9c19'}
2020-12-03 15:53:06,800 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:53:06,800 sqlalchemy.engine.base.Engine INFO {'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'ref_client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'ref_group_id': '60175b28-188e-4d7a-a240-8da593da9c19', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 6, 800394)}
2020-12-03 15:53:06,935 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:07,060 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:07,061 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:07,063 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:07,064 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:53:07,064 sqlalchemy.engine.base.Engine INFO {'param_1': '60175b28-188e-4d7a-a240-8da593da9c19'}
2020-12-03 15:53:07,065 sqlalchemy.engine.base.Engine INFO {'param_1': 6}
2020-12-03 15:53:07,077 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:53:07,078 sqlalchemy.engine.base.Engine INFO {'group_id_1': '60175b28-188e-4d7a-a240-8da593da9c19'}
2020-12-03 15:53:09,383 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:53:09,383 sqlalchemy.engine.base.Engine INFO {'id': 'ecd6cf41-411b-484f-baf5-48387f692a4c', 'group_name': 'ok group', 'group_avatar': None, 'group_type': 'group', 'group_clients': None, 'created_by': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 9, 383179), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:53:09,388 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:09,407 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:09,413 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:09,415 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:09,415 sqlalchemy.engine.base.Engine INFO {'param_1': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,430 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:09,430 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'ecd6cf41-411b-484f-baf5-48387f692a4c', 'client_id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:53:09,436 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:53:09,436 sqlalchemy.engine.base.Engine INFO {'group_id': 'ecd6cf41-411b-484f-baf5-48387f692a4c', 'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 9, 436435), 'updated_at': datetime.datetime(2020, 12, 3, 15, 53, 9, 436462)}
2020-12-03 15:53:09,441 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:09,450 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:09,452 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:09,453 sqlalchemy.engine.base.Engine INFO {'param_1': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,462 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:53:09,463 sqlalchemy.engine.base.Engine INFO {'client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'ref_client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'ref_group_id': 'ecd6cf41-411b-484f-baf5-48387f692a4c', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 9, 462660)}
2020-12-03 15:53:09,467 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:09,474 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:09,475 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:09,476 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:09,478 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:53:09,478 sqlalchemy.engine.base.Engine INFO {'param_1': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,478 sqlalchemy.engine.base.Engine INFO {'param_1': 7}
2020-12-03 15:53:09,489 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:09,491 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'ecd6cf41-411b-484f-baf5-48387f692a4c', 'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:53:09,497 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:53:09,497 sqlalchemy.engine.base.Engine INFO {'group_id': 'ecd6cf41-411b-484f-baf5-48387f692a4c', 'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 9, 496978), 'updated_at': datetime.datetime(2020, 12, 3, 15, 53, 9, 497012)}
2020-12-03 15:53:09,502 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:09,505 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:09,518 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:09,520 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:09,521 sqlalchemy.engine.base.Engine INFO {'param_1': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,535 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:53:09,535 sqlalchemy.engine.base.Engine INFO {'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'ref_client_id': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4', 'ref_group_id': 'ecd6cf41-411b-484f-baf5-48387f692a4c', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 53, 9, 535280)}
2020-12-03 15:53:09,539 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:09,551 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:09,552 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:09,554 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:53:09,556 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 15:53:09,556 sqlalchemy.engine.base.Engine INFO {'param_1': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,556 sqlalchemy.engine.base.Engine INFO {'param_1': 8}
2020-12-03 15:53:09,568 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 15:53:09,570 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,579 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:09,580 sqlalchemy.engine.base.Engine INFO {'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:53:09,623 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:53:09,624 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022', 'group_id_2': '60175b28-188e-4d7a-a240-8da593da9c19', 'group_id_3': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,636 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:09,636 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:53:09,652 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:53:09,652 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022', 'group_id_2': '60175b28-188e-4d7a-a240-8da593da9c19', 'group_id_3': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,663 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:09,663 sqlalchemy.engine.base.Engine INFO {'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 15:53:09,673 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:53:09,673 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022', 'group_id_2': '60175b28-188e-4d7a-a240-8da593da9c19', 'group_id_3': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:09,709 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:09,709 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ce1d7d91-78c2-48f4-ac2c-154c985403e4'}
2020-12-03 15:53:09,718 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:53:09,718 sqlalchemy.engine.base.Engine INFO {'group_id_1': '29d1b191-c701-4be6-bb68-273a6d229022', 'group_id_2': '60175b28-188e-4d7a-a240-8da593da9c19', 'group_id_3': 'ecd6cf41-411b-484f-baf5-48387f692a4c'}
2020-12-03 15:53:10,260 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:53:10,261 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:53:10,387 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:10,388 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:53:10,396 sqlalchemy.engine.base.Engine INFO UPDATE peer_client_key SET device_id=%(device_id)s, registration_id=%(registration_id)s, identity_key_public=%(identity_key_public)s, prekey=%(prekey)s, signed_prekey_id=%(signed_prekey_id)s, signed_prekey=%(signed_prekey)s, signed_prekey_signature=%(signed_prekey_signature)s, updated_at=%(updated_at)s WHERE peer_client_key.id = %(peer_client_key_id)s
2020-12-03 15:53:10,396 sqlalchemy.engine.base.Engine INFO {'device_id': 381298175, 'registration_id': 117887549, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd2273eb4b0>, 'prekey': <psycopg2.extensions.Binary object at 0x7fd2273f6120>, 'signed_prekey_id': 91447178, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd2273f65a0>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd2273f6c90>, 'updated_at': datetime.datetime(2020, 12, 3, 15, 53, 10, 395751), 'peer_client_key_id': 2}
2020-12-03 15:53:10,401 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:10,406 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:53:10,476 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:53:10,477 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:53:10,478 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:54:19,720 root INFO Listening on port 5000..
2020-12-03 15:55:27,051 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:55:27,060 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:55:27,065 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:56:11,898 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:56:11,898 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:56:11,950 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:56:11,955 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:56:11,955 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:56:11,972 sqlalchemy.engine.base.Engine INFO UPDATE peer_client_key SET device_id=%(device_id)s, registration_id=%(registration_id)s, identity_key_public=%(identity_key_public)s, prekey=%(prekey)s, signed_prekey_id=%(signed_prekey_id)s, signed_prekey=%(signed_prekey)s, signed_prekey_signature=%(signed_prekey_signature)s, updated_at=%(updated_at)s WHERE peer_client_key.id = %(peer_client_key_id)s
2020-12-03 15:56:11,973 sqlalchemy.engine.base.Engine INFO {'device_id': 326688942, 'registration_id': 691108112, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7f94acb30300>, 'prekey': <psycopg2.extensions.Binary object at 0x7f94acb30330>, 'signed_prekey_id': 169708280, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7f94acb30360>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7f94acb30390>, 'updated_at': datetime.datetime(2020, 12, 3, 15, 56, 11, 972503), 'peer_client_key_id': 5}
2020-12-03 15:56:11,978 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:56:12,030 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:56:12,030 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:56:12,364 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:56:12,370 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:56:12,370 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:56:12,384 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:56:12,385 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:56:12,389 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:56:12,392 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:56:12,392 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:56:12,405 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:56:12,406 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:56:12,409 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 15:56:12,409 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 15:56:12,460 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:56:12,462 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:56:12,462 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:57:58,969 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 15:57:58,970 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:57:59,142 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:57:59,143 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:57:59,148 sqlalchemy.engine.base.Engine INFO UPDATE peer_client_key SET device_id=%(device_id)s, registration_id=%(registration_id)s, identity_key_public=%(identity_key_public)s, prekey=%(prekey)s, signed_prekey_id=%(signed_prekey_id)s, signed_prekey=%(signed_prekey)s, signed_prekey_signature=%(signed_prekey_signature)s, updated_at=%(updated_at)s WHERE peer_client_key.id = %(peer_client_key_id)s
2020-12-03 15:57:59,149 sqlalchemy.engine.base.Engine INFO {'device_id': 7939416, 'registration_id': 1482997952, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7f94acb8dfc0>, 'prekey': <psycopg2.extensions.Binary object at 0x7f94acb8dd50>, 'signed_prekey_id': 2050203665, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7f94acb8dc60>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7f94acb8de40>, 'updated_at': datetime.datetime(2020, 12, 3, 15, 57, 59, 148793), 'peer_client_key_id': 2}
2020-12-03 15:57:59,157 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:57:59,598 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:57:59,598 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:57:59,953 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 15:57:59,954 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:57:59,962 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 15:57:59,962 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c'}
2020-12-03 15:57:59,984 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:57:59,985 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 15:58:16,128 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 15:58:16,128 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:58:19,393 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:58:19,395 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 15:58:19,396 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:58:19,398 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 15:58:19,399 sqlalchemy.engine.base.Engine INFO {'group_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 15:59:10,642 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 15:59:10,642 sqlalchemy.engine.base.Engine INFO {'id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_name': 'anhphuong-anhthoan', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'created_at': datetime.datetime(2020, 12, 3, 15, 59, 10, 642107), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 15:59:10,649 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:59:10,693 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:59:10,696 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:59:10,697 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 15:59:45,257 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 15:59:45,258 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 15:59:45,265 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 15:59:45,265 sqlalchemy.engine.base.Engine INFO {'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 15, 59, 45, 265278), 'updated_at': datetime.datetime(2020, 12, 3, 15, 59, 45, 265306)}
2020-12-03 15:59:45,270 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 15:59:45,353 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 15:59:45,355 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 15:59:45,356 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 15:59:57,705 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 15:59:57,706 sqlalchemy.engine.base.Engine INFO {'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 15, 59, 57, 704797)}
2020-12-03 15:59:57,710 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:00:08,882 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:00:08,890 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:00:08,891 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:00:08,901 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:00:08,902 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:00:08,902 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:00:08,904 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:00:08,906 sqlalchemy.engine.base.Engine INFO {'param_1': 9}
2020-12-03 16:00:08,909 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:00:08,910 sqlalchemy.engine.base.Engine INFO {'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 0, 8, 909884), 'updated_at': datetime.datetime(2020, 12, 3, 16, 0, 8, 909899)}
2020-12-03 16:00:08,918 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:00:08,921 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:00:08,976 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:00:08,978 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:00:08,978 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:00:10,209 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:00:10,210 sqlalchemy.engine.base.Engine INFO {'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'ref_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 0, 10, 209775)}
2020-12-03 16:00:10,215 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:00:18,057 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:00:18,059 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:00:18,060 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:00:18,061 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:00:18,062 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:00:18,062 sqlalchemy.engine.base.Engine INFO {'param_1': 10}
2020-12-03 16:00:18,139 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:00:18,143 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:00:18,162 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:00:18,163 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:00:18,182 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:00:18,183 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:00:18,201 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:00:18,201 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:00:18,205 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:00:18,390 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:00:18,391 sqlalchemy.engine.base.Engine INFO {'id': '607e23c6-c6f2-44ff-aad9-1250421700df', 'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'from_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'message': <psycopg2.extensions.Binary object at 0x7f94acbc7a20>, 'created_at': datetime.datetime(2020, 12, 3, 16, 0, 18, 386521), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:00:18,396 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:00:18,416 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:00:18,418 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:00:18,418 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:00:18,428 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:00:18,428 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 0, 18, 427892), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 0, 18, 386521), 'last_message_id': '607e23c6-c6f2-44ff-aad9-1250421700df', 'group_chat_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:00:18,543 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:00:18,556 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:00:18,558 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:00:18,558 sqlalchemy.engine.base.Engine INFO {'param_1': '607e23c6-c6f2-44ff-aad9-1250421700df'}
2020-12-03 16:01:22,435 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:01:22,436 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:01:22,441 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:01:23,361 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:01:23,362 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:01:23,368 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:01:24,905 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:01:24,906 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:01:24,912 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:01:28,951 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:01:28,951 sqlalchemy.engine.base.Engine INFO {'id': 'f295a4da-3a7b-4f02-a833-1aa5d8069594', 'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'from_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'message': <psycopg2.extensions.Binary object at 0x7f94ac5a1d20>, 'created_at': datetime.datetime(2020, 12, 3, 16, 1, 28, 950099), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:01:28,959 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:01:28,985 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:01:28,987 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:01:28,987 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:01:28,996 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:01:28,996 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 1, 28, 996439), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 1, 28, 950099), 'last_message_id': 'f295a4da-3a7b-4f02-a833-1aa5d8069594', 'group_chat_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:01:29,000 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:01:29,009 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:01:29,011 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:01:29,011 sqlalchemy.engine.base.Engine INFO {'param_1': 'f295a4da-3a7b-4f02-a833-1aa5d8069594'}
2020-12-03 16:02:26,130 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:02:26,131 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:02:26,139 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:02:26,139 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:29,054 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:02:29,054 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:02:39,401 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 16:02:39,401 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'created_at_1': datetime.datetime(2020, 12, 3, 16, 1, 28, 950000)}
2020-12-03 16:02:39,413 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:39,415 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:02:39,415 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:02:41,246 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:02:41,247 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:02:41,264 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:02:41,264 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:41,283 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:02:41,283 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:02:42,469 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:02:42,470 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:02:42,479 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 16:02:42,479 sqlalchemy.engine.base.Engine INFO {'group_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'created_at_1': datetime.datetime(2020, 12, 3, 16, 1, 28, 950000)}
2020-12-03 16:02:46,877 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:02:46,877 sqlalchemy.engine.base.Engine INFO {'id': 'd53ebac4-1d62-4be8-b422-dffa19836afd', 'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'from_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'message': <psycopg2.extensions.Binary object at 0x7f94acbeea80>, 'created_at': datetime.datetime(2020, 12, 3, 16, 2, 46, 875378), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:02:46,885 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:46,913 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:46,915 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:02:46,915 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:46,924 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:02:46,924 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 2, 46, 924331), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 2, 46, 875378), 'last_message_id': 'd53ebac4-1d62-4be8-b422-dffa19836afd', 'group_chat_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:46,929 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:46,936 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:46,938 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:02:46,938 sqlalchemy.engine.base.Engine INFO {'param_1': 'd53ebac4-1d62-4be8-b422-dffa19836afd'}
2020-12-03 16:02:49,535 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:02:49,535 sqlalchemy.engine.base.Engine INFO {'id': 'c84775a3-38d4-4de0-8a48-a6c4799f4c82', 'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'from_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'message': <psycopg2.extensions.Binary object at 0x7f94acbeeab0>, 'created_at': datetime.datetime(2020, 12, 3, 16, 2, 49, 533864), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:02:49,540 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:49,562 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:49,564 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:02:49,564 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:49,572 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:02:49,572 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 2, 49, 572296), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 2, 49, 533864), 'last_message_id': 'c84775a3-38d4-4de0-8a48-a6c4799f4c82', 'group_chat_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:49,577 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:49,586 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:49,588 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:02:49,589 sqlalchemy.engine.base.Engine INFO {'param_1': 'c84775a3-38d4-4de0-8a48-a6c4799f4c82'}
2020-12-03 16:02:52,598 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:02:52,599 sqlalchemy.engine.base.Engine INFO {'id': '24099da2-31d9-46d6-b950-6cbf6422b975', 'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'from_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'message': <psycopg2.extensions.Binary object at 0x7f94acbee060>, 'created_at': datetime.datetime(2020, 12, 3, 16, 2, 52, 597551), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:02:52,614 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:52,645 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:52,647 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:02:52,648 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:52,655 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:02:52,656 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 2, 52, 655815), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 2, 52, 597551), 'last_message_id': '24099da2-31d9-46d6-b950-6cbf6422b975', 'group_chat_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:52,659 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:52,670 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:52,672 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:02:52,672 sqlalchemy.engine.base.Engine INFO {'param_1': '24099da2-31d9-46d6-b950-6cbf6422b975'}
2020-12-03 16:02:54,246 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:02:54,246 sqlalchemy.engine.base.Engine INFO {'id': 'e9781f7a-907a-4560-8160-28f355d40747', 'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'from_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'message': <psycopg2.extensions.Binary object at 0x7f94acbee810>, 'created_at': datetime.datetime(2020, 12, 3, 16, 2, 54, 244602), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:02:54,250 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:54,262 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:54,264 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:02:54,265 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:54,273 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:02:54,273 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 2, 54, 272993), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 2, 54, 244602), 'last_message_id': 'e9781f7a-907a-4560-8160-28f355d40747', 'group_chat_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:54,277 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:54,285 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:54,287 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:02:54,287 sqlalchemy.engine.base.Engine INFO {'param_1': 'e9781f7a-907a-4560-8160-28f355d40747'}
2020-12-03 16:02:57,724 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:02:57,724 sqlalchemy.engine.base.Engine INFO {'id': '509b3856-0b56-4aaa-a34f-eb1e3a6fb294', 'group_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'from_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'message': <psycopg2.extensions.Binary object at 0x7f94acbee990>, 'created_at': datetime.datetime(2020, 12, 3, 16, 2, 57, 722521), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:02:57,856 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:58,034 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:58,035 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:02:58,035 sqlalchemy.engine.base.Engine INFO {'param_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:58,044 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:02:58,044 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 2, 58, 44496), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 2, 57, 722521), 'last_message_id': '509b3856-0b56-4aaa-a34f-eb1e3a6fb294', 'group_chat_id': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:02:58,048 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:02:58,069 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:02:58,070 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:02:58,071 sqlalchemy.engine.base.Engine INFO {'param_1': '509b3856-0b56-4aaa-a34f-eb1e3a6fb294'}
2020-12-03 16:03:09,093 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:03:09,094 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:03:09,103 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:03:09,104 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:05:10,997 root INFO Listening on port 5000..
2020-12-03 16:05:52,162 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:05:52,166 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:05:52,167 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:05:52,425 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:05:52,426 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:05:52,467 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:05:52,468 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:05:52,610 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:05:52,612 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:05:52,613 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:05:52,972 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:05:52,973 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:05:54,001 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:05:54,001 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:05:54,968 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:05:54,969 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:05:54,978 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:05:54,979 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d'}
2020-12-03 16:05:55,012 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:05:55,012 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:05:55,022 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:05:55,023 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:05:56,372 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:05:56,372 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:06:08,917 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 16:06:08,917 sqlalchemy.engine.base.Engine INFO {'id': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_name': 'chcu', 'group_avatar': None, 'group_type': 'group', 'group_clients': None, 'created_by': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'created_at': datetime.datetime(2020, 12, 3, 16, 6, 8, 917095), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 16:06:08,922 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:06:08,946 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:08,948 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:06:08,948 sqlalchemy.engine.base.Engine INFO {'param_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:08,960 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:08,960 sqlalchemy.engine.base.Engine INFO {'group_id_1': '48f2ee51-6b23-432a-98bf-599a194650ab', 'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:06:08,966 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:06:08,966 sqlalchemy.engine.base.Engine INFO {'group_id': '48f2ee51-6b23-432a-98bf-599a194650ab', 'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 6, 8, 966511), 'updated_at': datetime.datetime(2020, 12, 3, 16, 6, 8, 966533)}
2020-12-03 16:06:08,970 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:06:09,017 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:09,018 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:06:09,019 sqlalchemy.engine.base.Engine INFO {'param_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:13,263 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:06:13,264 sqlalchemy.engine.base.Engine INFO {'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'ref_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_group_id': '48f2ee51-6b23-432a-98bf-599a194650ab', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 6, 13, 263259)}
2020-12-03 16:06:13,271 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:06:13,295 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:13,297 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:06:13,298 sqlalchemy.engine.base.Engine INFO {'param_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:13,308 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:13,309 sqlalchemy.engine.base.Engine INFO {'group_id_1': '48f2ee51-6b23-432a-98bf-599a194650ab', 'client_id_1': '09972895-b834-42a8-93f5-c3797fd38a15'}
2020-12-03 16:06:13,316 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:06:13,316 sqlalchemy.engine.base.Engine INFO {'group_id': '48f2ee51-6b23-432a-98bf-599a194650ab', 'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 6, 13, 315889), 'updated_at': datetime.datetime(2020, 12, 3, 16, 6, 13, 315912)}
2020-12-03 16:06:13,320 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:06:13,366 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:13,368 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:06:13,368 sqlalchemy.engine.base.Engine INFO {'param_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:19,105 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:06:19,106 sqlalchemy.engine.base.Engine INFO {'client_id': '09972895-b834-42a8-93f5-c3797fd38a15', 'ref_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_group_id': '48f2ee51-6b23-432a-98bf-599a194650ab', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 6, 19, 105619)}
2020-12-03 16:06:19,154 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:06:19,177 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:19,179 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:06:19,179 sqlalchemy.engine.base.Engine INFO {'param_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:19,190 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,190 sqlalchemy.engine.base.Engine INFO {'group_id_1': '48f2ee51-6b23-432a-98bf-599a194650ab', 'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:06:19,325 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:06:19,325 sqlalchemy.engine.base.Engine INFO {'group_id': '48f2ee51-6b23-432a-98bf-599a194650ab', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 6, 19, 325503), 'updated_at': datetime.datetime(2020, 12, 3, 16, 6, 19, 325521)}
2020-12-03 16:06:19,463 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:06:19,477 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:19,479 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:06:19,480 sqlalchemy.engine.base.Engine INFO {'param_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:19,489 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:06:19,490 sqlalchemy.engine.base.Engine INFO {'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_group_id': '48f2ee51-6b23-432a-98bf-599a194650ab', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 6, 19, 489869)}
2020-12-03 16:06:19,494 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:06:19,504 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:19,508 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:06:19,509 sqlalchemy.engine.base.Engine INFO {'param_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:19,641 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:06:19,642 sqlalchemy.engine.base.Engine INFO {'group_id_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:19,647 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:19,650 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:06:19,650 sqlalchemy.engine.base.Engine INFO {'param_1': 13}
2020-12-03 16:06:19,772 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,773 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:06:19,784 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:06:19,785 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:19,816 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,816 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:06:19,819 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:19,822 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,823 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:06:19,826 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,826 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:06:19,836 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:06:19,836 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:06:19,845 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:19,847 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,847 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:06:19,856 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,857 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:06:19,860 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,861 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:06:19,861 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:06:19,887 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:06:19,889 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:06:19,889 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:06:19,902 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:08:22,856 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:08:22,859 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:08:22,859 sqlalchemy.engine.base.Engine INFO {'group_id_1': '48f2ee51-6b23-432a-98bf-599a194650ab', 'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:08:22,859 sqlalchemy.engine.base.Engine INFO {'group_id_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:08:22,866 sqlalchemy.engine.base.Engine INFO UPDATE group_client_key SET device_id=%(device_id)s, client_key=%(client_key)s, updated_at=%(updated_at)s WHERE group_client_key.id = %(group_client_key_id)s
2020-12-03 16:08:22,867 sqlalchemy.engine.base.Engine INFO {'device_id': 7939416, 'client_key': <psycopg2.extensions.Binary object at 0x7fa622bba0c0>, 'updated_at': datetime.datetime(2020, 12, 3, 16, 8, 22, 866593), 'group_client_key_id': 13}
2020-12-03 16:08:22,873 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:08:22,876 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:08:25,011 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:08:25,012 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:08:25,023 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:08:25,023 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:08:25,059 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:08:25,060 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:08:25,062 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:08:25,064 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:08:25,064 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:08:25,067 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:08:25,069 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:08:25,069 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:08:25,076 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:08:25,901 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:08:25,901 sqlalchemy.engine.base.Engine INFO {'group_id_1': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:08:25,905 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:08:25,906 sqlalchemy.engine.base.Engine INFO {'group_id_1': '48f2ee51-6b23-432a-98bf-599a194650ab', 'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:08:25,911 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:08:26,701 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:08:26,701 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:08:26,710 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:08:26,710 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:12:51,075 root INFO Listening on port 5000..
2020-12-03 16:13:04,057 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:04,100 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:13:04,122 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:08,053 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:13:08,086 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:12,086 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:12,100 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:13:12,129 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:14,471 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:13:14,495 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:17,987 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:18,008 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:18,014 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:18,280 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:13:18,287 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:13:18,493 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:18,494 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:18,638 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:18,651 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:18,657 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:18,668 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:23,467 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:13:23,478 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:24,492 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:13:24,499 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:25,659 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:13:25,665 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:30,522 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:30,529 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:30,551 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:13:30,564 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:13:30,618 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:30,627 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:30,649 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:30,656 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:30,668 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:35,510 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:35,510 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:13:35,519 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:13:35,519 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab'}
2020-12-03 16:13:35,544 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:35,545 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:35,548 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:35,549 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:35,553 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:35,554 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:35,556 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:35,556 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:13:40,779 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:13:40,780 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:47,133 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 16:13:47,133 sqlalchemy.engine.base.Engine INFO {'id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'group_name': 'group moi', 'group_avatar': None, 'group_type': 'group', 'group_clients': None, 'created_by': '13e94731-2a59-49f0-9109-9066c88c0da6', 'created_at': datetime.datetime(2020, 12, 3, 16, 13, 47, 133154), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 16:13:47,163 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:13:47,190 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:47,192 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:13:47,192 sqlalchemy.engine.base.Engine INFO {'param_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:47,214 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:47,214 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:13:47,227 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:13:47,227 sqlalchemy.engine.base.Engine INFO {'group_id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 13, 47, 226913), 'updated_at': datetime.datetime(2020, 12, 3, 16, 13, 47, 226946)}
2020-12-03 16:13:47,234 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:13:47,242 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:47,245 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:13:47,245 sqlalchemy.engine.base.Engine INFO {'param_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:47,256 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:13:47,256 sqlalchemy.engine.base.Engine INFO {'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'ref_group_id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 13, 47, 255915)}
2020-12-03 16:13:47,266 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:13:47,274 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:47,277 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:13:47,277 sqlalchemy.engine.base.Engine INFO {'param_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:47,286 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:47,287 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:47,291 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:13:47,291 sqlalchemy.engine.base.Engine INFO {'group_id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 13, 47, 291051), 'updated_at': datetime.datetime(2020, 12, 3, 16, 13, 47, 291072)}
2020-12-03 16:13:47,293 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:47,296 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:13:47,296 sqlalchemy.engine.base.Engine INFO {'param_1': 14}
2020-12-03 16:13:47,297 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:13:47,305 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:13:47,310 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:47,312 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:13:47,312 sqlalchemy.engine.base.Engine INFO {'param_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:47,321 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:13:47,321 sqlalchemy.engine.base.Engine INFO {'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'ref_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'ref_group_id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 13, 47, 321359)}
2020-12-03 16:13:47,326 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:13:47,333 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:47,334 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:13:47,336 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:13:47,338 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:13:47,338 sqlalchemy.engine.base.Engine INFO {'param_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:47,339 sqlalchemy.engine.base.Engine INFO {'param_1': 15}
2020-12-03 16:13:47,349 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:13:47,350 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:47,445 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:47,445 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:13:47,454 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:13:47,454 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_4': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:47,497 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:47,497 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:13:47,511 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:47,511 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:47,523 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:47,523 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:47,528 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:47,532 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:47,532 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:47,536 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:59,034 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,035 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:59,040 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,040 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:59,061 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:13:59,063 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_3': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:59,099 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:13:59,100 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:59,124 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:13:59,125 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:59,137 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,138 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:59,159 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:13:59,160 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_3': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:59,170 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,171 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:59,180 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,180 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:59,185 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:59,190 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,190 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:59,195 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:59,223 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:13:59,224 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_3': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:13:59,231 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,231 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:59,239 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,240 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:59,258 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:59,261 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,261 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:59,266 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:59,270 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,271 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:13:59,278 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,278 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:59,283 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:13:59,287 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:13:59,288 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:13:59,292 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:14:12,368 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:14:12,368 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:14:12,381 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:14:12,381 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:14:12,388 sqlalchemy.engine.base.Engine INFO UPDATE group_client_key SET device_id=%(device_id)s, client_key=%(client_key)s, updated_at=%(updated_at)s WHERE group_client_key.id = %(group_client_key_id)s
2020-12-03 16:14:12,388 sqlalchemy.engine.base.Engine INFO {'device_id': 326688942, 'client_key': <psycopg2.extensions.Binary object at 0x7f9f0dbb9ea0>, 'updated_at': datetime.datetime(2020, 12, 3, 16, 14, 12, 388132), 'group_client_key_id': 15}
2020-12-03 16:14:12,392 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:16:36,803 root INFO Listening on port 5000..
2020-12-03 16:16:54,325 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:16:54,340 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:16:54,350 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:16:59,001 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:16:59,014 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:16:59,015 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:17:00,410 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:17:00,417 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:17:02,255 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:02,268 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:17:02,307 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:17:02,319 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_4': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:02,471 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:02,489 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:17:02,632 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:02,639 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:02,668 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:02,707 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:02,732 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:02,772 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:17:02,864 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:02,865 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:17:02,889 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:03,232 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:17:03,380 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:17:05,652 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:17:05,664 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:06,684 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:17:06,697 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:06,740 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:06,790 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:06,833 sqlalchemy.engine.base.Engine INFO UPDATE group_client_key SET client_key=%(client_key)s, updated_at=%(updated_at)s WHERE group_client_key.id = %(group_client_key_id)s
2020-12-03 16:17:06,846 sqlalchemy.engine.base.Engine INFO {'client_key': <psycopg2.extensions.Binary object at 0x7fefd7b5d1e0>, 'updated_at': datetime.datetime(2020, 12, 3, 16, 17, 6, 833786), 'group_client_key_id': 15}
2020-12-03 16:17:06,881 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:17:10,690 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:10,690 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:10,699 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:17:10,699 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_3': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:10,726 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:10,727 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:10,730 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:10,732 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:10,732 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:17:10,778 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:17:10,800 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:10,802 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:10,803 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:17:10,811 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:17:12,176 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:17:12,177 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:12,180 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:12,181 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:12,193 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:17:26,558 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:17:26,559 sqlalchemy.engine.base.Engine INFO {'id': 'df8b0fec-3ec9-4bfa-ad9d-70c895fa587e', 'group_id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'from_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fefd7baaed0>, 'created_at': datetime.datetime(2020, 12, 3, 16, 17, 26, 554247), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:17:26,666 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:17:26,691 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:26,693 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:17:26,693 sqlalchemy.engine.base.Engine INFO {'param_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:26,704 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:17:26,704 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 17, 26, 704400), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 17, 26, 554247), 'last_message_id': 'df8b0fec-3ec9-4bfa-ad9d-70c895fa587e', 'group_chat_id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:26,841 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:17:26,856 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:26,858 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:17:26,858 sqlalchemy.engine.base.Engine INFO {'param_1': 'df8b0fec-3ec9-4bfa-ad9d-70c895fa587e'}
2020-12-03 16:17:26,867 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:17:26,868 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:44,505 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:17:44,505 sqlalchemy.engine.base.Engine INFO {'id': 'f4591a8c-e461-46e9-8e11-31c0613f35ad', 'group_id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'from_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7fefd7bb4f60>, 'created_at': datetime.datetime(2020, 12, 3, 16, 17, 44, 504059), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:17:44,646 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:17:44,680 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:44,682 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:17:44,683 sqlalchemy.engine.base.Engine INFO {'param_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:44,889 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:17:44,889 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 17, 44, 889377), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 17, 44, 504059), 'last_message_id': 'f4591a8c-e461-46e9-8e11-31c0613f35ad', 'group_chat_id': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:44,895 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:17:44,905 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:17:44,907 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:17:44,907 sqlalchemy.engine.base.Engine INFO {'param_1': 'f4591a8c-e461-46e9-8e11-31c0613f35ad'}
2020-12-03 16:17:44,918 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:17:44,919 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:52,774 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:52,775 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:52,785 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:17:52,785 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_3': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:52,804 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:52,805 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:52,814 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:52,814 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:17:52,819 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:17:52,823 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:52,823 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:17:52,828 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:17:54,580 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:17:54,580 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:17:54,593 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:17:54,594 sqlalchemy.engine.base.Engine INFO {'group_id_1': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:17:54,603 sqlalchemy.engine.base.Engine INFO UPDATE group_client_key SET client_key=%(client_key)s, updated_at=%(updated_at)s WHERE group_client_key.id = %(group_client_key_id)s
2020-12-03 16:17:54,603 sqlalchemy.engine.base.Engine INFO {'client_key': <psycopg2.extensions.Binary object at 0x7fefd7bc9b40>, 'updated_at': datetime.datetime(2020, 12, 3, 16, 17, 54, 603359), 'group_client_key_id': 15}
2020-12-03 16:17:54,608 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:18:31,412 root INFO Listening on port 5000..
2020-12-03 16:18:42,560 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:42,586 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:18:42,611 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:46,983 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:18:47,001 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:18:47,766 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:47,788 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:47,800 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:18:47,850 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:18:47,862 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_4': '1abcd98c-5bcf-4ef7-8289-906c950c0d79'}
2020-12-03 16:18:48,023 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:48,036 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:18:48,060 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:48,069 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:48,114 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:48,129 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:48,143 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:48,144 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:48,227 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:48,274 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:48,305 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:48,372 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:50,448 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 16:18:50,467 sqlalchemy.engine.base.Engine INFO {'id': '2f4f3ec7-2102-464a-953f-28eb19180eb2', 'group_name': 'sdfsdfsdf', 'group_avatar': None, 'group_type': 'group', 'group_clients': None, 'created_by': '13e94731-2a59-49f0-9109-9066c88c0da6', 'created_at': datetime.datetime(2020, 12, 3, 16, 18, 50, 448059), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 16:18:50,494 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:18:50,548 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:50,579 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:18:50,607 sqlalchemy.engine.base.Engine INFO {'param_1': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:50,640 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:50,651 sqlalchemy.engine.base.Engine INFO {'group_id_1': '2f4f3ec7-2102-464a-953f-28eb19180eb2', 'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:18:50,683 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:18:50,723 sqlalchemy.engine.base.Engine INFO {'group_id': '2f4f3ec7-2102-464a-953f-28eb19180eb2', 'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 18, 50, 683524), 'updated_at': datetime.datetime(2020, 12, 3, 16, 18, 50, 683547)}
2020-12-03 16:18:50,741 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:18:50,772 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:50,791 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:18:50,819 sqlalchemy.engine.base.Engine INFO {'param_1': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:50,858 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:18:50,869 sqlalchemy.engine.base.Engine INFO {'client_id': '0f7caea2-dcfb-4005-ac1f-be03f98e7952', 'ref_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'ref_group_id': '2f4f3ec7-2102-464a-953f-28eb19180eb2', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 18, 50, 858346)}
2020-12-03 16:18:50,910 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:18:50,963 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:50,981 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:18:50,999 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:51,005 sqlalchemy.engine.base.Engine INFO {'param_1': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:51,032 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:18:51,075 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,075 sqlalchemy.engine.base.Engine INFO {'param_1': 16}
2020-12-03 16:18:51,124 sqlalchemy.engine.base.Engine INFO {'group_id_1': '2f4f3ec7-2102-464a-953f-28eb19180eb2', 'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:51,209 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:18:51,210 sqlalchemy.engine.base.Engine INFO {'group_id': '2f4f3ec7-2102-464a-953f-28eb19180eb2', 'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 18, 51, 209654), 'updated_at': datetime.datetime(2020, 12, 3, 16, 18, 51, 209673)}
2020-12-03 16:18:51,225 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:18:51,245 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:18:51,270 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:51,284 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:18:51,328 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,342 sqlalchemy.engine.base.Engine INFO {'param_1': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:51,365 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:18:51,394 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:18:51,403 sqlalchemy.engine.base.Engine INFO {'client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'ref_client_id': '13e94731-2a59-49f0-9109-9066c88c0da6', 'ref_group_id': '2f4f3ec7-2102-464a-953f-28eb19180eb2', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 18, 51, 394354)}
2020-12-03 16:18:51,413 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s, %(group_id_5)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:18:51,456 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:18:51,475 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_4': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'group_id_5': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:51,543 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:18:51,619 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:18:51,630 sqlalchemy.engine.base.Engine INFO {'param_1': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:51,656 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:18:51,675 sqlalchemy.engine.base.Engine INFO {'group_id_1': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:51,720 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,722 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,733 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:51,770 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,778 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:18:51,813 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:51,903 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:51,932 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,932 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:51,937 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,939 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,940 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:51,941 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:51,941 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:51,949 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:51,953 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:18:51,953 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_3': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'group_id_4': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:51,968 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,969 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:51,975 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:18:51,979 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:18:51,980 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:51,981 sqlalchemy.engine.base.Engine INFO {'group_id_1': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_2': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_3': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'group_id_4': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:18:51,991 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:51,995 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:18:51,995 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:51,995 sqlalchemy.engine.base.Engine INFO {'id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:52,003 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:52,004 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:52,008 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:52,013 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:52,014 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:52,029 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:52,034 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:52,034 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:52,047 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:52,055 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:52,055 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:18:52,059 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:52,059 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:52,063 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:52,067 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:52,067 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:52,070 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:18:52,070 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:18:52,071 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:18:52,075 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:19:02,487 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:19:02,487 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:19:03,179 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:19:03,179 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:19:03,188 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s, %(group_id_5)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:19:03,189 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_4': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'group_id_5': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:19:03,233 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:19:03,234 sqlalchemy.engine.base.Engine INFO {'client_id_1': '6b23d3f2-a0d0-40dd-bbf0-66a6b3b51fc7'}
2020-12-03 16:19:03,242 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:19:03,243 sqlalchemy.engine.base.Engine INFO {'client_id_1': '13e94731-2a59-49f0-9109-9066c88c0da6'}
2020-12-03 16:19:03,251 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:19:03,251 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:19:03,256 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:19:03,259 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:19:03,260 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:19:03,264 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:19:03,282 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:19:03,282 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:19:03,287 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:19:04,410 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:19:04,411 sqlalchemy.engine.base.Engine INFO {'id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:19:04,996 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:19:04,996 sqlalchemy.engine.base.Engine INFO {'client_id_1': '0f7caea2-dcfb-4005-ac1f-be03f98e7952'}
2020-12-03 16:19:05,006 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s, %(group_id_4)s, %(group_id_5)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:19:05,006 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9f8a864f-ce35-4245-b37d-55b4a1ed4e6c', 'group_id_2': '37e6d3b2-4c72-4721-b9b1-2000afa3c35d', 'group_id_3': '48f2ee51-6b23-432a-98bf-599a194650ab', 'group_id_4': '1abcd98c-5bcf-4ef7-8289-906c950c0d79', 'group_id_5': '2f4f3ec7-2102-464a-953f-28eb19180eb2'}
2020-12-03 16:24:29,958 root INFO Listening on port 5000..
2020-12-03 16:27:26,084 grpc._server ERROR Exception calling application: 400: b'{"errorMessage":"User name is missing"}'
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_server.py", line 435, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/src/controllers/auth.py", line 53, in register
    new_user = self.service.register_user(
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/src/services/auth.py", line 13, in register_user
    newUserId = KeyCloakUtils.create_user(email, username, password)
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/utils/keycloak.py", line 42, in create_user
    return keycloak_admin.create_user({"email": email,
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/keycloak/keycloak_admin.py", line 342, in create_user
    raise_error_from_response(data_raw, KeycloakGetError, expected_codes=[201])
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/keycloak/exceptions.py", line 103, in raise_error_from_response
    raise error(error_message=message,
keycloak.exceptions.KeycloakGetError: 400: b'{"errorMessage":"User name is missing"}'
2020-12-03 16:27:39,341 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:27:39,346 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 16:27:39,346 sqlalchemy.engine.base.Engine INFO {'id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'username': 'emphuong', 'email': 'gAAAAABfyK-LdfiWEPYc8hC24XelCQ5An6tn0yVYev8dsJGwaGx_UgoPA7n5XWodO1ZoF6of0Fxnogin83pFa3IR2ZKwpfWXjUzPqx13CS4FdZoxMnMjC-c=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 16, 27, 39, 346245), 'updated_at': datetime.datetime(2020, 12, 3, 16, 27, 39, 346272)}
2020-12-03 16:27:39,355 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:27:53,246 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:27:53,247 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 16:27:53,248 sqlalchemy.engine.base.Engine INFO {'id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'username': 'emthai', 'email': 'gAAAAABfyK-ZFj6elSSMJqXLVyTpyP3ggebGOWBrD8wqVYObAzSCHgpMnJJrwfdWMq7M9grbVn5ZvSDdUx8FfXbjtL9i2-25EkEMZWYs5qE5bob84CnSxU0=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 16, 27, 53, 247660), 'updated_at': datetime.datetime(2020, 12, 3, 16, 27, 53, 247684)}
2020-12-03 16:27:53,256 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:28:12,849 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:28:12,851 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:28:12,851 sqlalchemy.engine.base.Engine INFO {'id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:28:13,031 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:28:13,034 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:28:13,034 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:28:13,046 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 16:28:13,046 sqlalchemy.engine.base.Engine INFO {'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'device_id': 2140459526, 'registration_id': 248249974, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7f95d228f3f0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7f95d228f420>, 'signed_prekey_id': 1278016414, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7f95d228f450>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7f95d228f480>, 'created_at': datetime.datetime(2020, 12, 3, 16, 28, 13, 46161), 'updated_at': datetime.datetime(2020, 12, 3, 16, 28, 13, 46185)}
2020-12-03 16:28:13,051 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:28:13,140 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:28:13,143 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:28:13,143 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:28:13,421 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:28:13,427 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:28:13,427 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:28:13,442 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 16:28:13,442 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 16:28:29,221 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:28:29,221 sqlalchemy.engine.base.Engine INFO {'id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:28:29,261 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:28:29,262 sqlalchemy.engine.base.Engine INFO {'client_id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:28:29,268 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 16:28:29,269 sqlalchemy.engine.base.Engine INFO {'client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'device_id': 2106745205, 'registration_id': 1700853193, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7f95d22ad150>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7f95d22ad690>, 'signed_prekey_id': 796299972, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7f95d22add80>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7f95d22add20>, 'created_at': datetime.datetime(2020, 12, 3, 16, 28, 29, 268560), 'updated_at': datetime.datetime(2020, 12, 3, 16, 28, 29, 268589)}
2020-12-03 16:28:29,280 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:28:29,318 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:28:29,319 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:28:29,320 sqlalchemy.engine.base.Engine INFO {'client_id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:28:29,486 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:28:29,490 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:28:29,490 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:28:29,491 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:28:29,491 sqlalchemy.engine.base.Engine INFO {'client_id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:28:29,493 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:28:29,494 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:28:29,495 sqlalchemy.engine.base.Engine INFO {'client_id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:28:29,495 sqlalchemy.engine.base.Engine INFO {'id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:28:29,505 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 16:28:29,509 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 16:28:29,510 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 16:28:29,511 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 16:28:29,533 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:28:29,534 sqlalchemy.engine.base.Engine INFO {'id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:34:23,695 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:34:23,695 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:34:23,702 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:34:24,696 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:34:24,696 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:34:24,711 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:34:28,626 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:34:28,627 sqlalchemy.engine.base.Engine INFO {'id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:34:29,849 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:34:29,850 sqlalchemy.engine.base.Engine INFO {'id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:34:31,347 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:34:31,347 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:34:31,366 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 16:34:31,366 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 16:34:34,990 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:34:34,990 sqlalchemy.engine.base.Engine INFO {'id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:34:35,971 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:34:35,971 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:34:35,973 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 16:34:35,974 sqlalchemy.engine.base.Engine INFO {'group_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:34:42,105 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 16:34:42,106 sqlalchemy.engine.base.Engine INFO {'id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'group_name': 'emthai-emphuong', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'created_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 105610), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 16:34:42,111 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:34:42,189 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,191 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:34:42,191 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,201 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:34:42,201 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9288cae7-7212-44c7-8088-33a55f1d1710', 'client_id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:34:42,210 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:34:42,211 sqlalchemy.engine.base.Engine INFO {'group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 210700), 'updated_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 210727)}
2020-12-03 16:34:42,215 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:34:42,223 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,225 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:34:42,225 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,240 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:34:42,240 sqlalchemy.engine.base.Engine INFO {'client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'ref_client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'ref_group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 239705)}
2020-12-03 16:34:42,245 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:34:42,257 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,261 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:34:42,261 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,270 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:34:42,270 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9288cae7-7212-44c7-8088-33a55f1d1710', 'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:34:42,274 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:34:42,275 sqlalchemy.engine.base.Engine INFO {'group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 274725), 'updated_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 274750)}
2020-12-03 16:34:42,275 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,278 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:34:42,278 sqlalchemy.engine.base.Engine INFO {'param_1': 18}
2020-12-03 16:34:42,279 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:34:42,288 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:34:42,297 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,300 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:34:42,300 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,309 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:34:42,309 sqlalchemy.engine.base.Engine INFO {'client_id_1': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea'}
2020-12-03 16:34:42,312 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:34:42,312 sqlalchemy.engine.base.Engine INFO {'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'ref_client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'ref_group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 311925)}
2020-12-03 16:34:42,316 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:34:42,319 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:34:42,319 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,331 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,333 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,337 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:34:42,342 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:34:42,343 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:34:42,343 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,344 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 16:34:42,344 sqlalchemy.engine.base.Engine INFO {'param_1': 19}
2020-12-03 16:34:42,349 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:34:42,353 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:34:42,354 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,374 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:34:42,374 sqlalchemy.engine.base.Engine INFO {'id': '6b33258d-4282-4139-962d-608fbedb64d2', 'group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'from_client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'message': <psycopg2.extensions.Binary object at 0x7f95d2422180>, 'created_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 371433), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:34:42,378 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:34:42,389 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,391 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:34:42,391 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,401 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:34:42,402 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 401369), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 34, 42, 371433), 'last_message_id': '6b33258d-4282-4139-962d-608fbedb64d2', 'group_chat_id': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:34:42,411 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:34:42,423 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:34:42,425 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:34:42,425 sqlalchemy.engine.base.Engine INFO {'param_1': '6b33258d-4282-4139-962d-608fbedb64d2'}
2020-12-03 16:35:27,987 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:35:27,988 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:35:27,997 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:35:27,998 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:35:28,149 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:35:28,149 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:35:39,454 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:35:39,454 sqlalchemy.engine.base.Engine INFO {'id': '4feee09b-fe62-4df2-97a1-339de2bc90ca', 'group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'from_client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'message': <psycopg2.extensions.Binary object at 0x7f95d2423330>, 'created_at': datetime.datetime(2020, 12, 3, 16, 35, 39, 452836), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:35:39,460 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:35:39,464 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:35:39,486 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:35:39,488 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:35:39,488 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:35:39,497 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:35:39,497 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 35, 39, 497202), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 35, 39, 452836), 'last_message_id': '4feee09b-fe62-4df2-97a1-339de2bc90ca', 'group_chat_id': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:35:39,502 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:35:39,510 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:35:39,512 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:35:39,512 sqlalchemy.engine.base.Engine INFO {'param_1': '4feee09b-fe62-4df2-97a1-339de2bc90ca'}
2020-12-03 16:36:01,060 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:36:01,060 sqlalchemy.engine.base.Engine INFO {'id': '682fa111-1ebc-48c0-a5ca-4e8cfcb8fb6e', 'group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'from_client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'message': <psycopg2.extensions.Binary object at 0x7f95d2423900>, 'created_at': datetime.datetime(2020, 12, 3, 16, 36, 1, 58902), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:36:01,065 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:36:01,083 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:36:01,085 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:36:01,085 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:36:01,093 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:36:01,093 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 36, 1, 93270), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 36, 1, 58902), 'last_message_id': '682fa111-1ebc-48c0-a5ca-4e8cfcb8fb6e', 'group_chat_id': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:36:01,098 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:36:01,108 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:36:01,110 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:36:01,110 sqlalchemy.engine.base.Engine INFO {'param_1': '682fa111-1ebc-48c0-a5ca-4e8cfcb8fb6e'}
2020-12-03 16:43:51,981 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:43:51,982 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:43:51,989 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:43:52,761 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:43:52,762 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:43:52,811 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:43:53,564 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:43:53,564 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:43:53,570 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:44:00,522 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:44:00,522 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:44:00,534 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:44:00,535 sqlalchemy.engine.base.Engine INFO {'group_id_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:44:00,555 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:44:00,555 sqlalchemy.engine.base.Engine INFO {'client_id_1': '15f70816-4656-4a42-b6ff-86f320cd4bdb'}
2020-12-03 16:44:07,563 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:44:07,563 sqlalchemy.engine.base.Engine INFO {'id': 'befb71f7-b2d7-4e35-86b3-71b1748ab075', 'group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'from_client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'message': <psycopg2.extensions.Binary object at 0x7f95d2423090>, 'created_at': datetime.datetime(2020, 12, 3, 16, 44, 7, 561724), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:44:07,570 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:44:07,594 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:44:07,596 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:44:07,596 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:44:07,606 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:44:07,607 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 44, 7, 606679), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 44, 7, 561724), 'last_message_id': 'befb71f7-b2d7-4e35-86b3-71b1748ab075', 'group_chat_id': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:44:07,611 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:44:07,618 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:44:07,620 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:44:07,620 sqlalchemy.engine.base.Engine INFO {'param_1': 'befb71f7-b2d7-4e35-86b3-71b1748ab075'}
2020-12-03 16:44:21,805 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:44:21,806 sqlalchemy.engine.base.Engine INFO {'id': 'bb61ce15-9ad7-43ea-8d34-a6a086e3d167', 'group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'from_client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'message': <psycopg2.extensions.Binary object at 0x7f95d22d2d80>, 'created_at': datetime.datetime(2020, 12, 3, 16, 44, 21, 804368), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:44:21,811 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:44:21,834 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:44:21,836 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:44:21,836 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:44:21,845 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:44:21,846 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 44, 21, 845618), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 44, 21, 804368), 'last_message_id': 'bb61ce15-9ad7-43ea-8d34-a6a086e3d167', 'group_chat_id': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:44:21,850 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:44:21,859 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:44:21,860 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:44:21,861 sqlalchemy.engine.base.Engine INFO {'param_1': 'bb61ce15-9ad7-43ea-8d34-a6a086e3d167'}
2020-12-03 16:44:54,212 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:44:54,213 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:44:54,274 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:44:55,038 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:44:55,038 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:44:55,118 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:45:27,799 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:45:27,800 sqlalchemy.engine.base.Engine INFO {'id': '91ebd323-dd8b-412c-a21b-2f14ce665958', 'group_id': '9288cae7-7212-44c7-8088-33a55f1d1710', 'from_client_id': '2b0e92c1-d799-40b2-9842-d6dbd2c4fdea', 'client_id': '15f70816-4656-4a42-b6ff-86f320cd4bdb', 'message': <psycopg2.extensions.Binary object at 0x7f95d243f930>, 'created_at': datetime.datetime(2020, 12, 3, 16, 45, 27, 797327), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:45:27,806 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:45:27,829 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:45:27,831 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:45:27,831 sqlalchemy.engine.base.Engine INFO {'param_1': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:45:27,841 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:45:27,841 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 45, 27, 841084), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 45, 27, 797327), 'last_message_id': '91ebd323-dd8b-412c-a21b-2f14ce665958', 'group_chat_id': '9288cae7-7212-44c7-8088-33a55f1d1710'}
2020-12-03 16:45:27,846 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:45:27,861 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:45:27,863 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:45:27,863 sqlalchemy.engine.base.Engine INFO {'param_1': '91ebd323-dd8b-412c-a21b-2f14ce665958'}
2020-12-03 16:47:06,879 root INFO Listening on port 5000..
2020-12-03 16:49:16,309 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:16,312 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 16:49:16,312 sqlalchemy.engine.base.Engine INFO {'id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'username': 'thaiem', 'email': 'gAAAAABfyLScn2rVAyLrpTFnlYX3XKYjUwYWY5-1CY-nrZcqempiE1sdUHmhiORtGb1P0FNj7Pmei4xHmepEob5CtG4uEtru_FNkrWhDzimuG8jN-FvTQog=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 16, 49, 16, 312358), 'updated_at': datetime.datetime(2020, 12, 3, 16, 49, 16, 312382)}
2020-12-03 16:49:16,483 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:49:19,257 grpc._server ERROR Exception calling application: 400: b'{"errorMessage":"User name is missing"}'
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_server.py", line 435, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/src/controllers/auth.py", line 53, in register
    new_user = self.service.register_user(
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/src/services/auth.py", line 13, in register_user
    newUserId = KeyCloakUtils.create_user(email, username, password)
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/utils/keycloak.py", line 42, in create_user
    return keycloak_admin.create_user({"email": email,
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/keycloak/keycloak_admin.py", line 342, in create_user
    raise_error_from_response(data_raw, KeycloakGetError, expected_codes=[201])
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/keycloak/exceptions.py", line 103, in raise_error_from_response
    raise error(error_message=message,
keycloak.exceptions.KeycloakGetError: 400: b'{"errorMessage":"User name is missing"}'
2020-12-03 16:49:37,075 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:37,076 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 16:49:37,076 sqlalchemy.engine.base.Engine INFO {'id': 'ca588633-6428-4048-b91a-73850c1df24d', 'username': 'phuongem', 'email': 'gAAAAABfyLSxxWxqfdta56qS9NdSaKrJ4JPWaZlBvgqLGRtmiCQ4hMKH5y_eMhYIW-frW3fH63f8RQFdOCNi8rLWNjdMXev8_KbN5icOAghSAOJsat6Hj6g=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 16, 49, 37, 76344), 'updated_at': datetime.datetime(2020, 12, 3, 16, 49, 37, 76359)}
2020-12-03 16:49:37,131 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:49:46,108 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:46,111 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:49:46,111 sqlalchemy.engine.base.Engine INFO {'id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:49:46,207 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:49:46,208 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:49:46,235 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 16:49:46,235 sqlalchemy.engine.base.Engine INFO {'client_id': 'ca588633-6428-4048-b91a-73850c1df24d', 'device_id': 1759601902, 'registration_id': 137734370, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fe14bb92b10>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fe14bb92b40>, 'signed_prekey_id': 1062060518, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fe14bb92b70>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fe14bb92ba0>, 'created_at': datetime.datetime(2020, 12, 3, 16, 49, 46, 234907), 'updated_at': datetime.datetime(2020, 12, 3, 16, 49, 46, 234943)}
2020-12-03 16:49:46,249 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:49:46,298 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:46,301 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:49:46,301 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:49:46,575 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:46,578 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:46,584 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:49:46,587 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:49:46,589 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:49:46,590 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:49:46,607 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 16:49:46,611 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 16:49:46,611 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:46,611 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 16:49:46,612 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 16:49:46,613 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:49:46,614 sqlalchemy.engine.base.Engine INFO {'id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:49:46,673 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:46,676 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:49:46,676 sqlalchemy.engine.base.Engine INFO {'id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:49:55,960 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 16:49:55,960 sqlalchemy.engine.base.Engine INFO {'id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:49:56,179 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:49:56,179 sqlalchemy.engine.base.Engine INFO {'client_id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:49:56,187 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 16:49:56,187 sqlalchemy.engine.base.Engine INFO {'client_id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'device_id': 1148930294, 'registration_id': 1977981364, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fe14bbd3150>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fe14bbd3ed0>, 'signed_prekey_id': 281727617, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fe14bbd3210>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fe14bbd3120>, 'created_at': datetime.datetime(2020, 12, 3, 16, 49, 56, 186899), 'updated_at': datetime.datetime(2020, 12, 3, 16, 49, 56, 186919)}
2020-12-03 16:49:56,192 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:49:56,302 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:49:56,303 sqlalchemy.engine.base.Engine INFO {'client_id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:49:56,481 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:49:56,482 sqlalchemy.engine.base.Engine INFO {'client_id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:49:56,489 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 16:49:56,489 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 16:49:58,255 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 16:49:58,256 sqlalchemy.engine.base.Engine INFO {'id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:49:59,940 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:49:59,945 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 16:49:59,945 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:49:59,946 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:49:59,946 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:50:04,755 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 16:50:04,755 sqlalchemy.engine.base.Engine INFO {'id': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'group_name': 'phuongem-thaiem', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'created_at': datetime.datetime(2020, 12, 3, 16, 50, 4, 754896), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 16:50:04,760 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:04,783 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:04,784 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:50:04,784 sqlalchemy.engine.base.Engine INFO {'param_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:04,799 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:50:04,799 sqlalchemy.engine.base.Engine INFO {'group_id_1': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'client_id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:50:04,807 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:50:04,807 sqlalchemy.engine.base.Engine INFO {'group_id': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'client_id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 50, 4, 807055), 'updated_at': datetime.datetime(2020, 12, 3, 16, 50, 4, 807093)}
2020-12-03 16:50:04,812 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:04,824 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:04,827 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:50:04,827 sqlalchemy.engine.base.Engine INFO {'param_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:04,839 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:50:04,839 sqlalchemy.engine.base.Engine INFO {'client_id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'ref_client_id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'ref_group_id': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 50, 4, 839078)}
2020-12-03 16:50:04,847 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:05,008 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:05,015 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:50:05,016 sqlalchemy.engine.base.Engine INFO {'param_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:05,029 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:50:05,030 sqlalchemy.engine.base.Engine INFO {'group_id_1': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'client_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:50:05,034 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 16:50:05,034 sqlalchemy.engine.base.Engine INFO {'group_id': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'client_id': 'ca588633-6428-4048-b91a-73850c1df24d', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 16, 50, 5, 34150), 'updated_at': datetime.datetime(2020, 12, 3, 16, 50, 5, 34170)}
2020-12-03 16:50:05,035 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:05,037 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:50:05,038 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:05,038 sqlalchemy.engine.base.Engine INFO {'param_1': 20}
2020-12-03 16:50:05,038 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:05,053 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:05,054 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:50:05,055 sqlalchemy.engine.base.Engine INFO {'param_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:05,065 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 16:50:05,065 sqlalchemy.engine.base.Engine INFO {'client_id': 'ca588633-6428-4048-b91a-73850c1df24d', 'ref_client_id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'ref_group_id': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 16, 50, 5, 65396)}
2020-12-03 16:50:05,070 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:05,082 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:05,083 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:05,084 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:50:05,085 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 16:50:05,086 sqlalchemy.engine.base.Engine INFO {'param_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:05,086 sqlalchemy.engine.base.Engine INFO {'param_1': 21}
2020-12-03 16:50:05,096 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 16:50:05,096 sqlalchemy.engine.base.Engine INFO {'group_id_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:11,031 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:50:11,031 sqlalchemy.engine.base.Engine INFO {'id': 'ffab4304-db52-42c9-83ff-635f11a917a3', 'group_id': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'from_client_id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'client_id': 'ca588633-6428-4048-b91a-73850c1df24d', 'message': <psycopg2.extensions.Binary object at 0x7fe14bc17c60>, 'created_at': datetime.datetime(2020, 12, 3, 16, 50, 11, 28025), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:50:11,037 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:11,059 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:11,061 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:50:11,062 sqlalchemy.engine.base.Engine INFO {'param_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:11,073 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:50:11,073 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 50, 11, 72936), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 50, 11, 28025), 'last_message_id': 'ffab4304-db52-42c9-83ff-635f11a917a3', 'group_chat_id': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:11,077 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:11,092 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:11,094 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:50:11,094 sqlalchemy.engine.base.Engine INFO {'param_1': 'ffab4304-db52-42c9-83ff-635f11a917a3'}
2020-12-03 16:50:13,509 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:50:13,509 sqlalchemy.engine.base.Engine INFO {'group_id_1': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'client_id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:50:13,515 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 16:50:13,515 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:50:13,519 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:50:13,523 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 16:50:13,524 sqlalchemy.engine.base.Engine INFO {'group_id_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:13,544 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 16:50:13,545 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'ca588633-6428-4048-b91a-73850c1df24d'}
2020-12-03 16:50:30,660 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:50:30,660 sqlalchemy.engine.base.Engine INFO {'id': '5c93e919-4237-4680-8f3e-e4b83f4469d7', 'group_id': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'from_client_id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'client_id': 'ca588633-6428-4048-b91a-73850c1df24d', 'message': <psycopg2.extensions.Binary object at 0x7fe14bbfc480>, 'created_at': datetime.datetime(2020, 12, 3, 16, 50, 30, 658469), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:50:30,666 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:30,671 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:30,698 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:30,700 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:50:30,700 sqlalchemy.engine.base.Engine INFO {'param_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:30,709 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:50:30,709 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 50, 30, 709362), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 50, 30, 658469), 'last_message_id': '5c93e919-4237-4680-8f3e-e4b83f4469d7', 'group_chat_id': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:50:30,714 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:50:30,723 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:50:30,724 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:50:30,725 sqlalchemy.engine.base.Engine INFO {'param_1': '5c93e919-4237-4680-8f3e-e4b83f4469d7'}
2020-12-03 16:50:30,751 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:50:30,751 sqlalchemy.engine.base.Engine INFO {'group_id_1': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'client_id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:50:30,759 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:51:12,542 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 16:51:12,542 sqlalchemy.engine.base.Engine INFO {'id': '05109699-75fe-42c3-b1ca-a39ab86255d7', 'group_id': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'from_client_id': '3487bc4e-72c7-4066-8ad0-257404fd57ec', 'client_id': 'ca588633-6428-4048-b91a-73850c1df24d', 'message': <psycopg2.extensions.Binary object at 0x7fe14bba0720>, 'created_at': datetime.datetime(2020, 12, 3, 16, 51, 12, 541058), 'updated_at': None, 'deleted_at': None}
2020-12-03 16:51:12,547 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:51:12,569 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:51:12,571 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 16:51:12,571 sqlalchemy.engine.base.Engine INFO {'param_1': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:51:12,580 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 16:51:12,581 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 16, 51, 12, 580444), 'last_message_at': datetime.datetime(2020, 12, 3, 16, 51, 12, 541058), 'last_message_id': '05109699-75fe-42c3-b1ca-a39ab86255d7', 'group_chat_id': '951e6e16-d58d-461b-a5b4-cf26782dff23'}
2020-12-03 16:51:12,585 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 16:51:12,594 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 16:51:12,595 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 16:51:12,595 sqlalchemy.engine.base.Engine INFO {'param_1': '05109699-75fe-42c3-b1ca-a39ab86255d7'}
2020-12-03 16:51:46,129 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 16:51:46,130 sqlalchemy.engine.base.Engine INFO {'group_id_1': '951e6e16-d58d-461b-a5b4-cf26782dff23', 'client_id_1': '3487bc4e-72c7-4066-8ad0-257404fd57ec'}
2020-12-03 16:51:46,137 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:55:43,303 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:55:43,303 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:55:43,401 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:55:44,193 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:55:44,194 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:55:44,250 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 16:55:44,760 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 16:55:44,760 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 16:55:44,781 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:00:38,824 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:00:38,824 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:00:38,832 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:00:39,492 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:00:39,492 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:00:39,498 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:00:40,100 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:00:40,100 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:00:40,105 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:00:43,317 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 17:00:43,317 sqlalchemy.engine.base.Engine INFO {'id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'username': 'ememphuong', 'email': 'gAAAAABfyLdLJh2SDRTMeSYTa1EMn_nuskvumshEQWYC_DxIXrCJL8PXnefYuzzsW0V29VIcYBqbrmfG75U7HiH0vNsyCG8OV-eEUbJlus9Y_KUeTGnb5z4=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 17, 0, 43, 317044), 'updated_at': datetime.datetime(2020, 12, 3, 17, 0, 43, 317065)}
2020-12-03 17:00:43,321 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:00:46,290 grpc._server ERROR Exception calling application: 400: b'{"errorMessage":"User name is missing"}'
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_server.py", line 435, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/src/controllers/auth.py", line 53, in register
    new_user = self.service.register_user(
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/src/services/auth.py", line 13, in register_user
    newUserId = KeyCloakUtils.create_user(email, username, password)
  File "/Users/phuongnguyen/Documents/Work/Vmodev/cleankeep/clearkeep-backend/utils/keycloak.py", line 42, in create_user
    return keycloak_admin.create_user({"email": email,
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/keycloak/keycloak_admin.py", line 342, in create_user
    raise_error_from_response(data_raw, KeycloakGetError, expected_codes=[201])
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/keycloak/exceptions.py", line 103, in raise_error_from_response
    raise error(error_message=message,
keycloak.exceptions.KeycloakGetError: 400: b'{"errorMessage":"User name is missing"}'
2020-12-03 17:01:01,929 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:01:01,930 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 17:01:01,930 sqlalchemy.engine.base.Engine INFO {'id': '53b638d9-c587-4803-949a-28929618f857', 'username': 'ememthai', 'email': 'gAAAAABfyLddCfi9ctImbCIzc3bqpCKAm-a06ju3YPlcS8RFE0N_Vwaxx30aN-fTLxOqA_5B7-4qKETMR6txFpm-lq7ie3-LoGPl_KvsgYEFgzHC6JwHQRI=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 17, 1, 1, 930527), 'updated_at': datetime.datetime(2020, 12, 3, 17, 1, 1, 930542)}
2020-12-03 17:01:01,936 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:01:13,972 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:01:13,974 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:01:13,974 sqlalchemy.engine.base.Engine INFO {'id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:01:14,036 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:01:14,037 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:01:14,042 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 17:01:14,042 sqlalchemy.engine.base.Engine INFO {'client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'device_id': 1707454319, 'registration_id': 326166862, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fe14bc125d0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fe14bc12c60>, 'signed_prekey_id': 113187406, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fe14bc12d50>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fe14bc12ed0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 1, 14, 42379), 'updated_at': datetime.datetime(2020, 12, 3, 17, 1, 14, 42396)}
2020-12-03 17:01:14,049 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:01:14,087 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:01:14,089 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:01:14,089 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:01:14,190 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:01:14,192 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:01:14,192 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:01:14,201 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:01:14,202 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:01:14,215 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:01:14,215 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:01:14,222 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:01:14,223 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:01:55,327 root INFO Listening on port 5000..
2020-12-03 17:02:36,755 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:02:36,759 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:02:36,759 sqlalchemy.engine.base.Engine INFO {'id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:36,908 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:36,908 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:36,916 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 17:02:36,917 sqlalchemy.engine.base.Engine INFO {'client_id': '53b638d9-c587-4803-949a-28929618f857', 'device_id': 2019757862, 'registration_id': 2135227922, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fdf8a227270>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fdf8a2272a0>, 'signed_prekey_id': 261477769, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fdf8a2272d0>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fdf8a227300>, 'created_at': datetime.datetime(2020, 12, 3, 17, 2, 36, 916370), 'updated_at': datetime.datetime(2020, 12, 3, 17, 2, 36, 916408)}
2020-12-03 17:02:36,922 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:02:36,976 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:02:36,977 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:36,977 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:37,324 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:02:37,329 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:37,329 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:37,330 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:02:37,335 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:37,336 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:37,344 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:02:37,345 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:02:37,348 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:02:37,350 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:02:37,374 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:02:37,376 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:02:37,376 sqlalchemy.engine.base.Engine INFO {'id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:37,387 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:02:37,389 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:02:37,389 sqlalchemy.engine.base.Engine INFO {'id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:48,598 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:02:48,598 sqlalchemy.engine.base.Engine INFO {'id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:02:48,664 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:48,664 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:02:48,675 sqlalchemy.engine.base.Engine INFO UPDATE peer_client_key SET device_id=%(device_id)s, registration_id=%(registration_id)s, identity_key_public=%(identity_key_public)s, prekey=%(prekey)s, signed_prekey_id=%(signed_prekey_id)s, signed_prekey=%(signed_prekey)s, signed_prekey_signature=%(signed_prekey_signature)s, updated_at=%(updated_at)s WHERE peer_client_key.id = %(peer_client_key_id)s
2020-12-03 17:02:48,676 sqlalchemy.engine.base.Engine INFO {'device_id': 1025406769, 'registration_id': 1385353623, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fdf8a295570>, 'prekey': <psycopg2.extensions.Binary object at 0x7fdf8a295e70>, 'signed_prekey_id': 1517112772, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fdf8a295630>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fdf8a295ea0>, 'updated_at': datetime.datetime(2020, 12, 3, 17, 2, 48, 675501), 'peer_client_key_id': 10}
2020-12-03 17:02:48,681 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:02:48,773 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:48,773 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:02:48,959 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:48,959 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:02:48,965 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:02:48,966 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:02:50,326 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:02:50,326 sqlalchemy.engine.base.Engine INFO {'id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:02:51,442 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:51,442 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:02:51,453 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:02:51,454 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:02:55,444 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:02:55,446 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:55,447 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:55,458 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:02:55,458 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:02:56,883 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:02:56,883 sqlalchemy.engine.base.Engine INFO {'id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:02:57,791 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:02:57,791 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:02:57,798 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 17:02:57,799 sqlalchemy.engine.base.Engine INFO {'group_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:03:01,270 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 17:03:01,271 sqlalchemy.engine.base.Engine INFO {'id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'group_name': 'ememthai-ememphuong', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 270225), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 17:03:01,275 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,300 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,302 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:01,302 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:01,314 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:01,314 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:03:01,321 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:03:01,321 sqlalchemy.engine.base.Engine INFO {'group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 321118), 'updated_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 321148)}
2020-12-03 17:03:01,326 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,341 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,342 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:01,343 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:01,355 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:03:01,355 sqlalchemy.engine.base.Engine INFO {'client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'ref_client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'ref_group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 354829)}
2020-12-03 17:03:01,360 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,391 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,394 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:01,394 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:01,403 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:01,403 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:03:01,408 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:03:01,408 sqlalchemy.engine.base.Engine INFO {'group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'client_id': '53b638d9-c587-4803-949a-28929618f857', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 408168), 'updated_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 408188)}
2020-12-03 17:03:01,409 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,411 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:03:01,411 sqlalchemy.engine.base.Engine INFO {'param_1': 22}
2020-12-03 17:03:01,412 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,422 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,427 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,429 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:01,429 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:01,437 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:03:01,438 sqlalchemy.engine.base.Engine INFO {'client_id': '53b638d9-c587-4803-949a-28929618f857', 'ref_client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'ref_group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 437730)}
2020-12-03 17:03:01,442 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,449 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,451 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,452 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:01,454 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:03:01,454 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:01,455 sqlalchemy.engine.base.Engine INFO {'param_1': 23}
2020-12-03 17:03:01,464 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 17:03:01,464 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:01,497 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:03:01,497 sqlalchemy.engine.base.Engine INFO {'id': 'e4e3729e-7ada-4355-8f47-9be69eaef6c0', 'group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'from_client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'client_id': '53b638d9-c587-4803-949a-28929618f857', 'message': <psycopg2.extensions.Binary object at 0x7fdf8a2ca240>, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 494532), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:03:01,502 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,504 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,517 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,519 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:01,519 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:01,529 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:03:01,529 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 528999), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 3, 1, 494532), 'last_message_id': 'e4e3729e-7ada-4355-8f47-9be69eaef6c0', 'group_chat_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:01,533 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:01,541 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:01,544 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:03:01,545 sqlalchemy.engine.base.Engine INFO {'param_1': 'e4e3729e-7ada-4355-8f47-9be69eaef6c0'}
2020-12-03 17:03:04,536 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:04,536 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:03:04,561 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:03:04,561 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:04,576 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:04,576 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:03:04,622 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:03:04,626 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:04,627 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:03:13,976 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:03:13,976 sqlalchemy.engine.base.Engine INFO {'id': '8ab80aaa-3d42-4a92-97f1-d6f98c816b4d', 'group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'from_client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'client_id': '53b638d9-c587-4803-949a-28929618f857', 'message': <psycopg2.extensions.Binary object at 0x7fdf8a2b1de0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 13, 975016), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:03:13,981 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:14,008 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:14,010 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:14,010 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:14,021 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:03:14,022 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 3, 14, 21584), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 3, 13, 975016), 'last_message_id': '8ab80aaa-3d42-4a92-97f1-d6f98c816b4d', 'group_chat_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:14,026 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:14,040 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:14,042 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:03:14,042 sqlalchemy.engine.base.Engine INFO {'param_1': '8ab80aaa-3d42-4a92-97f1-d6f98c816b4d'}
2020-12-03 17:03:14,078 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:14,078 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:03:14,083 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:03:25,548 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:25,549 sqlalchemy.engine.base.Engine INFO {'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:03:25,561 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 17:03:25,562 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'created_at_1': datetime.datetime(2020, 12, 3, 17, 3, 1, 494000)}
2020-12-03 17:03:29,808 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:03:29,808 sqlalchemy.engine.base.Engine INFO {'id': '5c12e518-74a0-4a2c-9913-49c13e405816', 'group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'from_client_id': '53b638d9-c587-4803-949a-28929618f857', 'client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'message': <psycopg2.extensions.Binary object at 0x7fdf8a2cc0f0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 29, 807309), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:03:29,812 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:29,838 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:29,840 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:29,840 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:29,847 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:03:29,847 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 3, 29, 847228), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 3, 29, 807309), 'last_message_id': '5c12e518-74a0-4a2c-9913-49c13e405816', 'group_chat_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:29,851 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:30,121 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:30,123 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:03:30,123 sqlalchemy.engine.base.Engine INFO {'param_1': '5c12e518-74a0-4a2c-9913-49c13e405816'}
2020-12-03 17:03:35,470 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:03:35,470 sqlalchemy.engine.base.Engine INFO {'id': 'c0b61bc0-6a80-4205-a5fb-31b7227381be', 'group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'from_client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'client_id': '53b638d9-c587-4803-949a-28929618f857', 'message': <psycopg2.extensions.Binary object at 0x7fdf8a280a80>, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 35, 468856), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:03:35,475 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:35,497 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:35,499 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:35,499 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:35,508 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:03:35,508 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 3, 35, 508153), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 3, 35, 468856), 'last_message_id': 'c0b61bc0-6a80-4205-a5fb-31b7227381be', 'group_chat_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:35,513 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:35,522 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:35,524 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:03:35,524 sqlalchemy.engine.base.Engine INFO {'param_1': 'c0b61bc0-6a80-4205-a5fb-31b7227381be'}
2020-12-03 17:03:35,552 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:35,552 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:03:35,557 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:03:38,442 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:03:38,443 sqlalchemy.engine.base.Engine INFO {'id': 'efffe93e-b329-4d5a-870a-0f003ad2345f', 'group_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'from_client_id': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a', 'client_id': '53b638d9-c587-4803-949a-28929618f857', 'message': <psycopg2.extensions.Binary object at 0x7fdf8a2c20f0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 3, 38, 441459), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:03:38,446 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:38,490 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:38,492 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:03:38,492 sqlalchemy.engine.base.Engine INFO {'param_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:38,499 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:03:38,500 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 3, 38, 499680), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 3, 38, 441459), 'last_message_id': 'efffe93e-b329-4d5a-870a-0f003ad2345f', 'group_chat_id': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:03:38,503 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:03:38,529 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:03:38,530 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:03:38,531 sqlalchemy.engine.base.Engine INFO {'param_1': 'efffe93e-b329-4d5a-870a-0f003ad2345f'}
2020-12-03 17:03:38,562 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:38,563 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd', 'client_id_1': '4ab4cdb0-2d4b-4002-9be6-ab2c7a286d0a'}
2020-12-03 17:03:38,566 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:03:50,527 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:03:50,527 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:03:50,534 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:03:50,534 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:04:47,631 root INFO Listening on port 5000..
2020-12-03 17:16:39,300 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:16:39,354 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:16:39,361 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:16:39,404 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:16:39,410 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:16:39,417 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:16:39,457 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:16:39,481 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:16:39,521 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:16:39,536 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:16:39,549 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:16:39,555 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:16:39,602 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:16:39,609 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:16:40,969 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:16:40,975 sqlalchemy.engine.base.Engine INFO {'id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:16:42,887 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:16:42,887 sqlalchemy.engine.base.Engine INFO {'id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:16:44,004 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:16:44,010 sqlalchemy.engine.base.Engine INFO {'id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:16:45,650 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:16:45,657 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:16:45,822 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:16:45,828 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'c2b1818f-bd79-41b0-bd02-84b352355ecd'}
2020-12-03 17:16:45,920 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:16:45,927 sqlalchemy.engine.base.Engine INFO {'client_id_1': '53b638d9-c587-4803-949a-28929618f857'}
2020-12-03 17:17:06,360 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 17:17:06,365 sqlalchemy.engine.base.Engine INFO {'id': 'b907b46b-32eb-4556-a089-a492c7326032', 'username': 'anhhuyen', 'email': 'gAAAAABfyLsiFunVOY1ctQgcxt8WkNclBCafpgxngDPdtKzTofw6vFtJbs9MakS22O-uPQWojprZGWzST5kHRmR9evowkh0zUrkQiul0MXr_yWNemB3Srng=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 17, 17, 6, 360106), 'updated_at': datetime.datetime(2020, 12, 3, 17, 17, 6, 360135)}
2020-12-03 17:17:06,380 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:18:00,613 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:18:00,614 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 17:18:00,614 sqlalchemy.engine.base.Engine INFO {'id': '2ca3b69a-6442-4ebc-9147-96a5d5640965', 'username': 'anhtu', 'email': 'gAAAAABfyLtYTnwqyIVmB8oR8nmhg7L1TtkfxuH2enccQGSF50MrFtE81uZuz9KDSKbKs7o2kKfYBvKHV9wDkE60wXYLkvWnZP8oPGiggdcbi8F41p5-e9U=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 17, 18, 0, 614471), 'updated_at': datetime.datetime(2020, 12, 3, 17, 18, 0, 614492)}
2020-12-03 17:18:00,620 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:18:08,151 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:18:08,152 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:18:08,152 sqlalchemy.engine.base.Engine INFO {'id_1': '2ca3b69a-6442-4ebc-9147-96a5d5640965'}
2020-12-03 17:18:08,230 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:18:08,231 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:18:08,231 sqlalchemy.engine.base.Engine INFO {'client_id_1': '2ca3b69a-6442-4ebc-9147-96a5d5640965'}
2020-12-03 17:18:08,248 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 17:18:08,248 sqlalchemy.engine.base.Engine INFO {'client_id': '2ca3b69a-6442-4ebc-9147-96a5d5640965', 'device_id': 1317812396, 'registration_id': 1139020384, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fb51eb615d0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fb51eb61450>, 'signed_prekey_id': 1272411817, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fb51eb61720>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fb51eb618a0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 18, 8, 247887), 'updated_at': datetime.datetime(2020, 12, 3, 17, 18, 8, 247910)}
2020-12-03 17:18:08,253 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:18:08,330 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:18:08,332 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:18:08,332 sqlalchemy.engine.base.Engine INFO {'client_id_1': '2ca3b69a-6442-4ebc-9147-96a5d5640965'}
2020-12-03 17:18:08,621 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:18:08,623 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:18:08,623 sqlalchemy.engine.base.Engine INFO {'client_id_1': '2ca3b69a-6442-4ebc-9147-96a5d5640965'}
2020-12-03 17:18:08,634 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:18:08,635 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:18:21,174 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:18:21,174 sqlalchemy.engine.base.Engine INFO {'id_1': 'b907b46b-32eb-4556-a089-a492c7326032'}
2020-12-03 17:18:21,220 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:18:21,220 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b907b46b-32eb-4556-a089-a492c7326032'}
2020-12-03 17:18:21,225 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 17:18:21,225 sqlalchemy.engine.base.Engine INFO {'client_id': 'b907b46b-32eb-4556-a089-a492c7326032', 'device_id': 1754913191, 'registration_id': 382612563, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fb51eb9a180>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fb51eb9a5d0>, 'signed_prekey_id': 79415858, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fb51eb9a8d0>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fb51eb9a4b0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 18, 21, 225123), 'updated_at': datetime.datetime(2020, 12, 3, 17, 18, 21, 225144)}
2020-12-03 17:18:21,229 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:18:21,272 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:18:21,274 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:18:21,275 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b907b46b-32eb-4556-a089-a492c7326032'}
2020-12-03 17:18:21,424 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:18:21,426 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:18:21,427 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b907b46b-32eb-4556-a089-a492c7326032'}
2020-12-03 17:18:21,441 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:18:21,441 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:18:21,452 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:18:21,452 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'b907b46b-32eb-4556-a089-a492c7326032'}
2020-12-03 17:18:21,458 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:18:21,459 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:18:21,478 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:18:21,478 sqlalchemy.engine.base.Engine INFO {'id_1': 'b907b46b-32eb-4556-a089-a492c7326032'}
2020-12-03 17:18:21,512 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:18:21,512 sqlalchemy.engine.base.Engine INFO {'id_1': 'b907b46b-32eb-4556-a089-a492c7326032'}
2020-12-03 17:21:25,677 root INFO Listening on port 5000..
2020-12-03 17:22:31,517 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:22:31,520 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 17:22:31,520 sqlalchemy.engine.base.Engine INFO {'id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'username': 'casivuongle', 'email': 'gAAAAABfyLxnyIkjR5-N60Pw-XPATfY-3qJzCRBuC0zmXIj0FQNg2-Wabf2Fpq6yjyXePgFuIj6HVzmgvSLcEsX-JmpcNi222HsecjqCykRacS-d4Bvp4no=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 17, 22, 31, 520420), 'updated_at': datetime.datetime(2020, 12, 3, 17, 22, 31, 520444)}
2020-12-03 17:22:31,537 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:22:47,707 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:22:47,708 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 17:22:47,708 sqlalchemy.engine.base.Engine INFO {'id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'username': 'casitiemluong', 'email': 'gAAAAABfyLx3bxzk-YY340v12MNHQfNXuSaWmA68ar6fUzXEilng12yLxY2n0IUT8a-z1ZozzY9Af16G6inyPKRGzGohukhtJaTA0YJYXJfj-ZektY1QJYs=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 17, 22, 47, 708085), 'updated_at': datetime.datetime(2020, 12, 3, 17, 22, 47, 708100)}
2020-12-03 17:22:47,714 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:22:54,883 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:22:54,885 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:22:54,885 sqlalchemy.engine.base.Engine INFO {'id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:22:54,939 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:22:54,939 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:22:54,948 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 17:22:54,949 sqlalchemy.engine.base.Engine INFO {'client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'device_id': 1366001931, 'registration_id': 906519263, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd735b55ae0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fd735b55b10>, 'signed_prekey_id': 1835713168, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd735b55b40>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd735b55b70>, 'created_at': datetime.datetime(2020, 12, 3, 17, 22, 54, 948388), 'updated_at': datetime.datetime(2020, 12, 3, 17, 22, 54, 948421)}
2020-12-03 17:22:54,955 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:22:55,006 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:22:55,008 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:22:55,008 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:22:55,228 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:22:55,232 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:22:55,233 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:22:55,236 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:22:55,238 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:22:55,239 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:22:55,244 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:22:55,245 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:22:55,249 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:22:55,250 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:22:55,254 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:22:55,257 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:22:55,257 sqlalchemy.engine.base.Engine INFO {'id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:22:55,286 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:22:55,288 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:22:55,288 sqlalchemy.engine.base.Engine INFO {'id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:08,915 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:23:08,916 sqlalchemy.engine.base.Engine INFO {'id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:09,066 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:09,067 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:09,073 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 17:23:09,073 sqlalchemy.engine.base.Engine INFO {'client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'device_id': 1432941377, 'registration_id': 2129186836, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7fd735b7bea0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7fd735b7bb10>, 'signed_prekey_id': 415294573, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7fd735b7bf00>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7fd735b7bab0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 9, 72865), 'updated_at': datetime.datetime(2020, 12, 3, 17, 23, 9, 72889)}
2020-12-03 17:23:09,078 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:09,159 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:09,159 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:09,324 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:09,324 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:09,330 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:23:09,330 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:23:13,318 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:13,320 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:13,323 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s ORDER BY message.created_at DESC
2020-12-03 17:23:13,323 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:13,324 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:20,587 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 17:23:20,587 sqlalchemy.engine.base.Engine INFO {'id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'group_name': 'casivuongle-casitiemluong', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 586634), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 17:23:20,593 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:20,618 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,621 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:20,621 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,633 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:20,634 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:20,640 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:23:20,641 sqlalchemy.engine.base.Engine INFO {'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 640703), 'updated_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 640734)}
2020-12-03 17:23:20,647 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:20,660 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,662 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:20,663 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,675 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:23:20,675 sqlalchemy.engine.base.Engine INFO {'client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'ref_client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'ref_group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 674863)}
2020-12-03 17:23:20,687 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:20,702 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,707 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:20,707 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,717 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:20,718 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:20,722 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:23:20,722 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,722 sqlalchemy.engine.base.Engine INFO {'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 722011), 'updated_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 722029)}
2020-12-03 17:23:20,725 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:23:20,725 sqlalchemy.engine.base.Engine INFO {'param_1': 24}
2020-12-03 17:23:20,729 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:20,736 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:20,756 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:20,756 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:20,759 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,760 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:20,764 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:23:20,764 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,764 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,773 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:23:20,773 sqlalchemy.engine.base.Engine INFO {'client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'ref_client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'ref_group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 773576)}
2020-12-03 17:23:20,780 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:20,791 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:20,793 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,794 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,794 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:23:20,795 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:20,797 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:23:20,797 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,798 sqlalchemy.engine.base.Engine INFO {'param_1': 25}
2020-12-03 17:23:20,802 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:23:20,813 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 17:23:20,813 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,833 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:23:20,833 sqlalchemy.engine.base.Engine INFO {'id': 'dbeefa81-04bf-4a42-b188-3be8d63f7bbf', 'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'from_client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'message': <psycopg2.extensions.Binary object at 0x7fd735b99270>, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 830971), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:23:20,837 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:20,851 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,852 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:20,852 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,862 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:23:20,862 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 861989), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 23, 20, 830971), 'last_message_id': 'dbeefa81-04bf-4a42-b188-3be8d63f7bbf', 'group_chat_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:20,866 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:20,876 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:20,878 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:23:20,878 sqlalchemy.engine.base.Engine INFO {'param_1': 'dbeefa81-04bf-4a42-b188-3be8d63f7bbf'}
2020-12-03 17:23:21,053 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:21,059 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:21,059 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:21,059 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:21,063 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:23:21,067 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:23:21,067 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:21,120 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:21,120 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:34,922 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:23:34,922 sqlalchemy.engine.base.Engine INFO {'id': '0c61ef2a-de7c-40b4-8c3f-df4a539e8d51', 'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'from_client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'message': <psycopg2.extensions.Binary object at 0x7fd735bd9cf0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 34, 920726), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:23:34,927 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:34,934 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:34,942 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:34,944 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:34,944 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:34,955 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:23:34,956 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 23, 34, 955740), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 23, 34, 920726), 'last_message_id': '0c61ef2a-de7c-40b4-8c3f-df4a539e8d51', 'group_chat_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:34,960 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:34,983 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:34,985 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:23:34,985 sqlalchemy.engine.base.Engine INFO {'param_1': '0c61ef2a-de7c-40b4-8c3f-df4a539e8d51'}
2020-12-03 17:23:35,329 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:35,329 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:35,334 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:23:41,997 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:41,998 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:42,000 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 17:23:42,000 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'created_at_1': datetime.datetime(2020, 12, 3, 17, 23, 20, 830000)}
2020-12-03 17:23:47,100 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:23:47,100 sqlalchemy.engine.base.Engine INFO {'id': '6810c75f-eead-4dda-84cf-1f428400642e', 'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'from_client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'message': <psycopg2.extensions.Binary object at 0x7fd735bd9570>, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 47, 98671), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:23:47,279 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:47,300 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:47,302 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:47,302 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:47,313 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:23:47,313 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 23, 47, 313447), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 23, 47, 98671), 'last_message_id': '6810c75f-eead-4dda-84cf-1f428400642e', 'group_chat_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:47,317 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:47,369 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:47,370 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:23:47,370 sqlalchemy.engine.base.Engine INFO {'param_1': '6810c75f-eead-4dda-84cf-1f428400642e'}
2020-12-03 17:23:47,626 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:47,626 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:47,632 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:23:51,423 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:51,423 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:51,460 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:23:51,460 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:51,555 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:51,555 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:51,921 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:51,924 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:51,924 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:51,927 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 17:23:51,927 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'created_at_1': datetime.datetime(2020, 12, 3, 17, 23, 47, 98000)}
2020-12-03 17:23:55,879 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:23:55,879 sqlalchemy.engine.base.Engine INFO {'id': '8842afcc-9741-4f1f-b885-06d91b729ea9', 'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'from_client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'message': <psycopg2.extensions.Binary object at 0x7fd735bd9b70>, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 55, 877980), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:23:55,884 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:55,899 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:55,901 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:55,902 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:55,917 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:23:55,918 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 23, 55, 917546), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 23, 55, 877980), 'last_message_id': '8842afcc-9741-4f1f-b885-06d91b729ea9', 'group_chat_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:55,922 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:55,932 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:55,934 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:23:55,934 sqlalchemy.engine.base.Engine INFO {'param_1': '8842afcc-9741-4f1f-b885-06d91b729ea9'}
2020-12-03 17:23:55,990 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:55,990 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:23:55,995 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:23:58,790 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:23:58,791 sqlalchemy.engine.base.Engine INFO {'id': '9e6cf275-419a-4537-a7ac-a9fbf75e7ac0', 'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'from_client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'message': <psycopg2.extensions.Binary object at 0x7fd735bd9bd0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 23, 58, 789040), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:23:58,795 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:58,824 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:58,826 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:23:58,827 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:58,836 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:23:58,837 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 23, 58, 836491), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 23, 58, 789040), 'last_message_id': '9e6cf275-419a-4537-a7ac-a9fbf75e7ac0', 'group_chat_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:23:58,843 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:23:58,857 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:23:58,859 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:23:58,859 sqlalchemy.engine.base.Engine INFO {'param_1': '9e6cf275-419a-4537-a7ac-a9fbf75e7ac0'}
2020-12-03 17:23:59,020 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:23:59,020 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:23:59,024 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:24:02,058 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:24:02,059 sqlalchemy.engine.base.Engine INFO {'id': 'f3fe92da-b917-4600-9255-1f6b84e42bda', 'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'from_client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'message': <psycopg2.extensions.Binary object at 0x7fd735bd9f90>, 'created_at': datetime.datetime(2020, 12, 3, 17, 24, 2, 57406), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:24:02,062 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:24:02,082 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:24:02,084 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:24:02,085 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:24:02,094 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:24:02,094 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 24, 2, 94259), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 24, 2, 57406), 'last_message_id': 'f3fe92da-b917-4600-9255-1f6b84e42bda', 'group_chat_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:24:02,098 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:24:02,106 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:24:02,108 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:24:02,108 sqlalchemy.engine.base.Engine INFO {'param_1': 'f3fe92da-b917-4600-9255-1f6b84e42bda'}
2020-12-03 17:24:02,132 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:24:02,132 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:24:02,137 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:24:19,779 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:24:19,780 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:24:19,789 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:24:19,789 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:24:20,083 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:24:20,083 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:24:24,787 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:24:24,787 sqlalchemy.engine.base.Engine INFO {'id': '6d9deeac-2af4-40da-beda-c8ce71ea1aac', 'group_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'from_client_id': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2', 'client_id': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c', 'message': <psycopg2.extensions.Binary object at 0x7fd735bd9450>, 'created_at': datetime.datetime(2020, 12, 3, 17, 24, 24, 786712), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:24:24,791 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:24:24,812 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:24:24,814 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:24:24,814 sqlalchemy.engine.base.Engine INFO {'param_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:24:24,822 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:24:24,822 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 24, 24, 822130), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 24, 24, 786712), 'last_message_id': '6d9deeac-2af4-40da-beda-c8ce71ea1aac', 'group_chat_id': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:24:24,826 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:24:24,837 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:24:24,838 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:24:24,838 sqlalchemy.engine.base.Engine INFO {'param_1': '6d9deeac-2af4-40da-beda-c8ce71ea1aac'}
2020-12-03 17:24:25,611 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:24:25,611 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc', 'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:24:25,616 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:24:41,232 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:24:41,232 sqlalchemy.engine.base.Engine INFO {'client_id_1': 'e79a4cd5-d9b8-43a4-827a-be1a68170dc2'}
2020-12-03 17:24:41,242 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:24:41,242 sqlalchemy.engine.base.Engine INFO {'group_id_1': '4670928f-4cb8-4237-8a5d-25fa2be13efc'}
2020-12-03 17:25:04,972 root INFO Listening on port 5000..
2020-12-03 17:26:48,586 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:26:48,589 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:26:48,590 sqlalchemy.engine.base.Engine INFO {'id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:26:52,281 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:26:52,281 sqlalchemy.engine.base.Engine INFO {'id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:26:53,296 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:26:53,296 sqlalchemy.engine.base.Engine INFO {'id_1': 'aae6d372-d7d6-43ee-a7ae-6d2af692c05c'}
2020-12-03 17:28:42,935 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 17:28:42,935 sqlalchemy.engine.base.Engine INFO {'id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'username': 'tuanha12', 'email': 'gAAAAABfyL3aWIQ7xqZ8PNQbcRA_XMytXpL2it7sRKH96CTLP_Ik8jpeoOJxl_941OPZQZMnfD6rln7tgJ-cF_k1qGQjqXpqmQ==', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 17, 28, 42, 934792), 'updated_at': datetime.datetime(2020, 12, 3, 17, 28, 42, 934828)}
2020-12-03 17:28:42,939 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:28:54,266 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:28:54,268 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:28:54,268 sqlalchemy.engine.base.Engine INFO {'id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:28:54,586 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:28:54,587 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:28:54,594 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 17:28:54,594 sqlalchemy.engine.base.Engine INFO {'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'device_id': 111, 'registration_id': 8838, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7f86f1353b10>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7f86f1353b40>, 'signed_prekey_id': 5, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7f86f1353b70>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7f86f1353ba0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 28, 54, 593738), 'updated_at': datetime.datetime(2020, 12, 3, 17, 28, 54, 593761)}
2020-12-03 17:28:54,598 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:28:55,202 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:28:55,209 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:28:55,209 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:28:55,220 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:28:55,220 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:29:09,545 sqlalchemy.engine.base.Engine INFO INSERT INTO "user" (id, username, email, first_name, last_name, status, avatar, auth_source, active, created_at, updated_at) VALUES (%(id)s, %(username)s, %(email)s, %(first_name)s, %(last_name)s, %(status)s, %(avatar)s, %(auth_source)s, %(active)s, %(created_at)s, %(updated_at)s)
2020-12-03 17:29:09,545 sqlalchemy.engine.base.Engine INFO {'id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'username': 'taikhoanmoi', 'email': 'gAAAAABfyL319R-5ftqwkTlGd0Sf5arKiR8MUf8Q9p6_94t6SK0PFBI8toFpmRilDHrTbmMT7Rzrxm8IyrEsNYbUBgfkkvMBZ1Sn2zMvr1KF1olHqzzqa38=', 'first_name': None, 'last_name': None, 'status': None, 'avatar': None, 'auth_source': 'account', 'active': True, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 9, 545585), 'updated_at': datetime.datetime(2020, 12, 3, 17, 29, 9, 545601)}
2020-12-03 17:29:09,549 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:19,321 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:19,323 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id = %(id_1)s
2020-12-03 17:29:19,324 sqlalchemy.engine.base.Engine INFO {'id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:29:19,423 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:29:19,424 sqlalchemy.engine.base.Engine INFO {'id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:29:19,440 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:19,440 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:29:19,446 sqlalchemy.engine.base.Engine INFO INSERT INTO peer_client_key (client_id, device_id, registration_id, identity_key_public, prekey_id, prekey, signed_prekey_id, signed_prekey, signed_prekey_signature, created_at, updated_at) VALUES (%(client_id)s, %(device_id)s, %(registration_id)s, %(identity_key_public)s, %(prekey_id)s, %(prekey)s, %(signed_prekey_id)s, %(signed_prekey)s, %(signed_prekey_signature)s, %(created_at)s, %(updated_at)s) RETURNING peer_client_key.id
2020-12-03 17:29:19,446 sqlalchemy.engine.base.Engine INFO {'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'device_id': 763013978, 'registration_id': 967809902, 'identity_key_public': <psycopg2.extensions.Binary object at 0x7f86f135e9c0>, 'prekey_id': 1, 'prekey': <psycopg2.extensions.Binary object at 0x7f86f135e330>, 'signed_prekey_id': 1909578026, 'signed_prekey': <psycopg2.extensions.Binary object at 0x7f86f135e660>, 'signed_prekey_signature': <psycopg2.extensions.Binary object at 0x7f86f1379a80>, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 19, 446048), 'updated_at': datetime.datetime(2020, 12, 3, 17, 29, 19, 446072)}
2020-12-03 17:29:19,451 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:20,021 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:20,023 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:20,023 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:29:21,174 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:21,177 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:21,177 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:29:21,190 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE 1 != 1 ORDER BY group_client_key.client_id ASC
2020-12-03 17:29:21,190 sqlalchemy.engine.base.Engine INFO {}
2020-12-03 17:29:35,438 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 17:29:35,438 sqlalchemy.engine.base.Engine INFO {'id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'group_name': 'tuanha12,taikhoanmoi', 'group_avatar': None, 'group_type': 'peer', 'group_clients': None, 'created_by': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 35, 437753), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 17:29:35,442 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:35,464 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:35,465 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:29:35,466 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:35,596 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:35,597 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:29:35,608 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:29:35,609 sqlalchemy.engine.base.Engine INFO {'group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 35, 608715), 'updated_at': datetime.datetime(2020, 12, 3, 17, 29, 35, 608748)}
2020-12-03 17:29:35,614 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:35,623 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:35,625 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:29:35,625 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:35,636 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:29:35,636 sqlalchemy.engine.base.Engine INFO {'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'ref_client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'ref_group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 35, 636359)}
2020-12-03 17:29:35,774 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:35,781 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:35,785 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:29:35,785 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:35,811 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:35,811 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:29:35,946 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:29:35,947 sqlalchemy.engine.base.Engine INFO {'group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 35, 946696), 'updated_at': datetime.datetime(2020, 12, 3, 17, 29, 35, 946715)}
2020-12-03 17:29:35,950 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:35,951 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:35,953 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:29:35,954 sqlalchemy.engine.base.Engine INFO {'param_1': 26}
2020-12-03 17:29:35,971 sqlalchemy.engine.base.Engine INFO ROLLBACK
2020-12-03 17:29:35,975 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:35,977 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:29:35,977 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:35,985 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:29:35,985 sqlalchemy.engine.base.Engine INFO {'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'ref_client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'ref_group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'notify_type': 'new-peer', 'notify_image': None, 'notify_title': 'New message', 'notify_content': 'Some one want to sent you a message', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 35, 985030)}
2020-12-03 17:29:36,123 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:36,172 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:36,173 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:36,174 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:29:36,176 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:29:36,176 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:36,176 sqlalchemy.engine.base.Engine INFO {'param_1': 27}
2020-12-03 17:29:36,186 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 17:29:36,187 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:36,348 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:36,349 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:29:36,550 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:29:36,551 sqlalchemy.engine.base.Engine INFO {'id': '58140822-3b42-4f60-8425-47ae2122bea4', 'group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'from_client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'message': <psycopg2.extensions.Binary object at 0x7f86f13bc8d0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 36, 546889), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:29:36,556 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:36,559 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:36,699 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:36,700 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:29:36,701 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:36,710 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:29:36,711 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 29, 36, 710612), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 29, 36, 546889), 'last_message_id': '58140822-3b42-4f60-8425-47ae2122bea4', 'group_chat_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:36,714 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:36,721 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:36,723 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:29:36,723 sqlalchemy.engine.base.Engine INFO {'param_1': '58140822-3b42-4f60-8425-47ae2122bea4'}
2020-12-03 17:29:38,066 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:38,067 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:29:38,068 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:38,069 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:38,070 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:29:38,075 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:29:38,076 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:29:38,077 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:38,183 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:38,183 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:29:43,880 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:43,884 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 17:29:43,884 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:29:43,884 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'created_at_1': datetime.datetime(2020, 12, 3, 17, 29, 36, 546000)}
2020-12-03 17:29:46,960 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:29:46,960 sqlalchemy.engine.base.Engine INFO {'id': 'd5243697-077b-4043-b01a-14d460c97c80', 'group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'from_client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'message': <psycopg2.extensions.Binary object at 0x7f86f13c5f90>, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 46, 959291), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:29:46,971 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:46,997 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:46,998 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:29:46,998 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:47,008 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:29:47,008 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 29, 47, 8420), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 29, 46, 959291), 'last_message_id': 'd5243697-077b-4043-b01a-14d460c97c80', 'group_chat_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:47,012 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:47,046 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:47,047 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:29:47,047 sqlalchemy.engine.base.Engine INFO {'param_1': 'd5243697-077b-4043-b01a-14d460c97c80'}
2020-12-03 17:29:55,766 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 17:29:55,767 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'created_at_1': datetime.datetime(2020, 12, 3, 17, 29, 36, 546000)}
2020-12-03 17:29:59,060 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:29:59,061 sqlalchemy.engine.base.Engine INFO {'id': '5feae1f7-9f32-463c-a2db-7d506f341c50', 'group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'from_client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'message': <psycopg2.extensions.Binary object at 0x7f86f13cb8d0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 29, 59, 59250), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:29:59,112 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:59,136 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:59,138 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:29:59,138 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:59,147 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:29:59,147 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 29, 59, 146938), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 29, 59, 59250), 'last_message_id': '5feae1f7-9f32-463c-a2db-7d506f341c50', 'group_chat_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:29:59,153 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:29:59,294 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:29:59,295 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:29:59,296 sqlalchemy.engine.base.Engine INFO {'param_1': '5feae1f7-9f32-463c-a2db-7d506f341c50'}
2020-12-03 17:29:59,814 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:29:59,815 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:29:59,819 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:13,971 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:30:13,971 sqlalchemy.engine.base.Engine INFO {'id': '7f2daf18-71b2-43dd-a037-b96b9020b3bd', 'group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'from_client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'message': <psycopg2.extensions.Binary object at 0x7f86f13c5690>, 'created_at': datetime.datetime(2020, 12, 3, 17, 30, 13, 970281), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:30:13,976 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:30:14,003 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:30:14,005 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:30:14,005 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:30:14,016 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:30:14,016 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 30, 14, 16507), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 30, 13, 970281), 'last_message_id': '7f2daf18-71b2-43dd-a037-b96b9020b3bd', 'group_chat_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:30:14,112 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:30:14,120 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:30:14,121 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:30:14,122 sqlalchemy.engine.base.Engine INFO {'param_1': '7f2daf18-71b2-43dd-a037-b96b9020b3bd'}
2020-12-03 17:30:14,361 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:30:14,362 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:30:14,452 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:15,212 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:30:15,213 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:30:15,218 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:23,817 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:30:23,817 sqlalchemy.engine.base.Engine INFO {'id': 'f55605ee-5907-462c-9f86-31aff5ca1955', 'group_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'from_client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'message': <psycopg2.extensions.Binary object at 0x7f86f13bc6f0>, 'created_at': datetime.datetime(2020, 12, 3, 17, 30, 23, 815768), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:30:23,823 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:30:23,844 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:30:23,846 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:30:23,846 sqlalchemy.engine.base.Engine INFO {'param_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:30:23,856 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:30:23,857 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 30, 23, 856525), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 30, 23, 815768), 'last_message_id': 'f55605ee-5907-462c-9f86-31aff5ca1955', 'group_chat_id': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:30:23,862 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:30:23,870 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:30:23,872 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:30:23,872 sqlalchemy.engine.base.Engine INFO {'param_1': 'f55605ee-5907-462c-9f86-31aff5ca1955'}
2020-12-03 17:30:24,055 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:30:24,055 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:30:24,060 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:25,177 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:30:25,178 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:30:25,184 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:25,689 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:30:25,689 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:30:25,694 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:27,582 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:30:27,582 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:30:27,586 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:28,323 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:30:28,323 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:30:28,328 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:28,851 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_chat.id = %(id_1)s
2020-12-03 17:30:28,851 sqlalchemy.engine.base.Engine INFO {'id_1': 'fe2ad85a-4428-42a0-ade6-20a72f97d6a2'}
2020-12-03 17:30:28,856 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:30:56,834 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:30:56,835 sqlalchemy.engine.base.Engine INFO {'id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:30:58,538 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:30:58,538 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:30:58,549 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:30:58,550 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1'}
2020-12-03 17:30:58,665 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:30:58,665 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:00,487 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:31:00,487 sqlalchemy.engine.base.Engine INFO {'id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:31:10,884 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 17:31:10,885 sqlalchemy.engine.base.Engine INFO {'id': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'group_name': 'group', 'group_avatar': None, 'group_type': 'group', 'group_clients': None, 'created_by': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 10, 884663), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 17:31:10,889 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:10,918 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:10,920 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:10,920 sqlalchemy.engine.base.Engine INFO {'param_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:10,928 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:10,929 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:31:10,934 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:31:10,934 sqlalchemy.engine.base.Engine INFO {'group_id': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 10, 933898), 'updated_at': datetime.datetime(2020, 12, 3, 17, 31, 10, 933921)}
2020-12-03 17:31:10,938 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:10,947 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:10,949 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:10,949 sqlalchemy.engine.base.Engine INFO {'param_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:10,957 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:31:10,957 sqlalchemy.engine.base.Engine INFO {'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'ref_client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'ref_group_id': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 10, 957345)}
2020-12-03 17:31:10,961 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:10,972 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:10,975 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:10,975 sqlalchemy.engine.base.Engine INFO {'param_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:10,984 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:10,984 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:10,988 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:31:10,988 sqlalchemy.engine.base.Engine INFO {'group_id': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 10, 988514), 'updated_at': datetime.datetime(2020, 12, 3, 17, 31, 10, 988531)}
2020-12-03 17:31:10,989 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:10,991 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:31:10,991 sqlalchemy.engine.base.Engine INFO {'param_1': 28}
2020-12-03 17:31:10,993 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:11,004 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:11,009 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:11,010 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:11,010 sqlalchemy.engine.base.Engine INFO {'param_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:11,022 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:31:11,022 sqlalchemy.engine.base.Engine INFO {'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'ref_client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'ref_group_id': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 11, 21918)}
2020-12-03 17:31:11,025 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:11,039 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:11,040 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:11,042 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:11,043 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:31:11,043 sqlalchemy.engine.base.Engine INFO {'param_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:11,043 sqlalchemy.engine.base.Engine INFO {'param_1': 29}
2020-12-03 17:31:11,054 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:11,056 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:11,074 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:11,074 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:31:11,082 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:11,082 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'group_id_2': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:11,171 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:11,171 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:11,180 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:11,180 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'group_id_2': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:11,223 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:11,224 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:11,259 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:11,261 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:11,261 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:31:11,277 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:16,463 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:16,463 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:31:16,468 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:16,719 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:16,720 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:31:16,726 sqlalchemy.engine.base.Engine INFO UPDATE group_client_key SET device_id=%(device_id)s, client_key=%(client_key)s, updated_at=%(updated_at)s WHERE group_client_key.id = %(group_client_key_id)s
2020-12-03 17:31:16,726 sqlalchemy.engine.base.Engine INFO {'device_id': 111, 'client_key': <psycopg2.extensions.Binary object at 0x7f86f13cba80>, 'updated_at': datetime.datetime(2020, 12, 3, 17, 31, 16, 726298), 'group_client_key_id': 28}
2020-12-03 17:31:16,731 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:17,051 sqlalchemy.engine.base.Engine INFO INSERT INTO message (id, group_id, from_client_id, client_id, message, created_at, updated_at, deleted_at) VALUES (%(id)s, %(group_id)s, %(from_client_id)s, %(client_id)s, %(message)s, %(created_at)s, %(updated_at)s, %(deleted_at)s)
2020-12-03 17:31:17,051 sqlalchemy.engine.base.Engine INFO {'id': '6c8168d0-7324-4fe8-b435-3c109aa9e15f', 'group_id': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'from_client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'client_id': '', 'message': <psycopg2.extensions.Binary object at 0x7f86f13cb480>, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 17, 49513), 'updated_at': None, 'deleted_at': None}
2020-12-03 17:31:17,055 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:17,068 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:17,090 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:17,092 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:17,093 sqlalchemy.engine.base.Engine INFO {'param_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:17,103 sqlalchemy.engine.base.Engine INFO UPDATE group_chat SET updated_at=%(updated_at)s, last_message_at=%(last_message_at)s, last_message_id=%(last_message_id)s WHERE group_chat.id = %(group_chat_id)s
2020-12-03 17:31:17,104 sqlalchemy.engine.base.Engine INFO {'updated_at': datetime.datetime(2020, 12, 3, 17, 31, 17, 103707), 'last_message_at': datetime.datetime(2020, 12, 3, 17, 31, 17, 49513), 'last_message_id': '6c8168d0-7324-4fe8-b435-3c109aa9e15f', 'group_chat_id': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:17,108 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:17,123 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:17,125 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.id = %(param_1)s
2020-12-03 17:31:17,125 sqlalchemy.engine.base.Engine INFO {'param_1': '6c8168d0-7324-4fe8-b435-3c109aa9e15f'}
2020-12-03 17:31:17,135 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:17,136 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc'}
2020-12-03 17:31:17,205 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:17,207 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:17,208 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:31:17,217 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:24,571 sqlalchemy.engine.base.Engine INFO SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".first_name AS user_first_name, "user".last_name AS user_last_name, "user".status AS user_status, "user".avatar AS user_avatar, "user".auth_source AS user_auth_source, "user".active AS user_active, "user".created_at AS user_created_at, "user".updated_at AS user_updated_at 
FROM "user" 
WHERE "user".id != %(id_1)s
2020-12-03 17:31:24,572 sqlalchemy.engine.base.Engine INFO {'id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:37,547 sqlalchemy.engine.base.Engine INFO INSERT INTO group_chat (id, group_name, group_avatar, group_type, group_clients, created_by, created_at, updated_by, updated_at, last_message_at, last_message_id, deleted_at) VALUES (%(id)s, %(group_name)s, %(group_avatar)s, %(group_type)s, %(group_clients)s, %(created_by)s, %(created_at)s, %(updated_by)s, %(updated_at)s, %(last_message_at)s, %(last_message_id)s, %(deleted_at)s)
2020-12-03 17:31:37,547 sqlalchemy.engine.base.Engine INFO {'id': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91', 'group_name': 'test moi', 'group_avatar': None, 'group_type': 'group', 'group_clients': None, 'created_by': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 37, 547305), 'updated_by': None, 'updated_at': None, 'last_message_at': None, 'last_message_id': None, 'deleted_at': None}
2020-12-03 17:31:37,552 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:37,571 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:37,573 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:37,573 sqlalchemy.engine.base.Engine INFO {'param_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:37,584 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:37,584 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91', 'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:31:37,590 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:31:37,590 sqlalchemy.engine.base.Engine INFO {'group_id': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91', 'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 37, 590203), 'updated_at': datetime.datetime(2020, 12, 3, 17, 31, 37, 590227)}
2020-12-03 17:31:37,595 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:37,721 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:37,724 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:37,724 sqlalchemy.engine.base.Engine INFO {'param_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:37,734 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:31:37,734 sqlalchemy.engine.base.Engine INFO {'client_id': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'ref_client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'ref_group_id': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 37, 734114)}
2020-12-03 17:31:37,738 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:37,806 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:37,807 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:37,809 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:37,810 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:31:37,810 sqlalchemy.engine.base.Engine INFO {'param_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:37,811 sqlalchemy.engine.base.Engine INFO {'param_1': 30}
2020-12-03 17:31:37,818 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:37,818 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91', 'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:37,823 sqlalchemy.engine.base.Engine INFO INSERT INTO group_client_key (group_id, client_id, device_id, client_key, created_at, updated_at) VALUES (%(group_id)s, %(client_id)s, %(device_id)s, %(client_key)s, %(created_at)s, %(updated_at)s) RETURNING group_client_key.id
2020-12-03 17:31:37,824 sqlalchemy.engine.base.Engine INFO {'group_id': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91', 'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'device_id': None, 'client_key': None, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 37, 823744), 'updated_at': datetime.datetime(2020, 12, 3, 17, 31, 37, 823764)}
2020-12-03 17:31:37,828 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:37,836 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:37,842 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:37,844 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:37,844 sqlalchemy.engine.base.Engine INFO {'param_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:37,856 sqlalchemy.engine.base.Engine INFO INSERT INTO notify (client_id, ref_client_id, ref_group_id, notify_type, notify_image, notify_title, notify_content, notify_platform, read_flg, created_at) VALUES (%(client_id)s, %(ref_client_id)s, %(ref_group_id)s, %(notify_type)s, %(notify_image)s, %(notify_title)s, %(notify_content)s, %(notify_platform)s, %(read_flg)s, %(created_at)s) RETURNING notify.id
2020-12-03 17:31:37,856 sqlalchemy.engine.base.Engine INFO {'client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'ref_client_id': '652b76ec-e689-4217-aee6-1e9b53e6b965', 'ref_group_id': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91', 'notify_type': 'new-group', 'notify_image': None, 'notify_title': 'Group Chat', 'notify_content': 'You are added to the group chat', 'notify_platform': 'all', 'read_flg': False, 'created_at': datetime.datetime(2020, 12, 3, 17, 31, 37, 856110)}
2020-12-03 17:31:37,861 sqlalchemy.engine.base.Engine INFO COMMIT
2020-12-03 17:31:37,871 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:37,873 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:37,875 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at 
FROM group_chat 
WHERE group_chat.id = %(param_1)s
2020-12-03 17:31:37,877 sqlalchemy.engine.base.Engine INFO SELECT notify.id AS notify_id, notify.client_id AS notify_client_id, notify.ref_client_id AS notify_ref_client_id, notify.ref_group_id AS notify_ref_group_id, notify.notify_type AS notify_notify_type, notify.notify_image AS notify_notify_image, notify.notify_title AS notify_notify_title, notify.notify_content AS notify_notify_content, notify.notify_platform AS notify_notify_platform, notify.read_flg AS notify_read_flg, notify.created_at AS notify_created_at 
FROM notify 
WHERE notify.id = %(param_1)s
2020-12-03 17:31:37,877 sqlalchemy.engine.base.Engine INFO {'param_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:37,877 sqlalchemy.engine.base.Engine INFO {'param_1': 31}
2020-12-03 17:31:37,888 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:37,889 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:37,894 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:37,895 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:31:37,906 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:37,906 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'group_id_2': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'group_id_3': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:38,050 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:38,051 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:38,060 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:38,061 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'group_id_2': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'group_id_3': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:38,080 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:38,081 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:38,084 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:38,084 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:31:38,089 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:38,101 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:38,101 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:38,103 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:38,105 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:38,109 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:38,110 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:31:38,110 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'group_id_2': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'group_id_3': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:38,119 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:38,128 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:38,128 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:38,131 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:38,132 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:31:38,137 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:38,149 sqlalchemy.engine.base.Engine INFO BEGIN (implicit)
2020-12-03 17:31:38,150 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:38,151 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:31:38,165 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:41,447 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:41,448 sqlalchemy.engine.base.Engine INFO {'client_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172'}
2020-12-03 17:31:41,451 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 17:31:41,451 sqlalchemy.engine.base.Engine INFO {'group_id_1': '7e7990e4-62ff-4272-ad24-1f7d89efd172', 'created_at_1': datetime.datetime(2020, 12, 3, 17, 30, 23, 815000)}
2020-12-03 17:31:57,624 sqlalchemy.engine.base.Engine INFO SELECT group_chat.id AS group_chat_id, group_chat.group_name AS group_chat_group_name, group_chat.group_avatar AS group_chat_group_avatar, group_chat.group_type AS group_chat_group_type, group_chat.group_clients AS group_chat_group_clients, group_chat.created_by AS group_chat_created_by, group_chat.created_at AS group_chat_created_at, group_chat.updated_by AS group_chat_updated_by, group_chat.updated_at AS group_chat_updated_at, group_chat.last_message_at AS group_chat_last_message_at, group_chat.last_message_id AS group_chat_last_message_id, group_chat.deleted_at AS group_chat_deleted_at, message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM group_chat JOIN group_client_key ON group_chat.id = group_client_key.group_id LEFT OUTER JOIN message ON group_chat.last_message_id = message.id 
WHERE group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:57,625 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:57,639 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, "user".username AS user_username 
FROM group_client_key JOIN "user" ON group_client_key.client_id = "user".id 
WHERE group_client_key.group_id IN (%(group_id_1)s, %(group_id_2)s, %(group_id_3)s) ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:57,639 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'group_id_2': 'a164c94b-00e6-4842-b4b5-b5f1b67964dc', 'group_id_3': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:57,662 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:57,662 sqlalchemy.engine.base.Engine INFO {'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:57,666 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:57,666 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:31:57,670 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:57,673 sqlalchemy.engine.base.Engine INFO SELECT peer_client_key.id AS peer_client_key_id, peer_client_key.client_id AS peer_client_key_client_id, peer_client_key.device_id AS peer_client_key_device_id, peer_client_key.registration_id AS peer_client_key_registration_id, peer_client_key.identity_key_public AS peer_client_key_identity_key_public, peer_client_key.prekey_id AS peer_client_key_prekey_id, peer_client_key.prekey AS peer_client_key_prekey, peer_client_key.signed_prekey_id AS peer_client_key_signed_prekey_id, peer_client_key.signed_prekey AS peer_client_key_signed_prekey, peer_client_key.signed_prekey_signature AS peer_client_key_signed_prekey_signature, peer_client_key.created_at AS peer_client_key_created_at, peer_client_key.updated_at AS peer_client_key_updated_at 
FROM peer_client_key 
WHERE peer_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:57,674 sqlalchemy.engine.base.Engine INFO {'client_id_1': ''}
2020-12-03 17:31:57,679 grpc._common ERROR Exception serializing message!
Traceback (most recent call last):
  File "/Users/phuongnguyen/opt/miniconda3/envs/clearkeep-backend/lib/python3.8/site-packages/grpc/_common.py", line 86, in _transform
    return transformer(message)
TypeError: descriptor 'SerializeToString' for 'google.protobuf.pyext._message.CMessage' objects doesn't apply to a 'NoneType' object
2020-12-03 17:31:59,063 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s ORDER BY group_client_key.client_id ASC
2020-12-03 17:31:59,064 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91'}
2020-12-03 17:31:59,067 sqlalchemy.engine.base.Engine INFO SELECT group_client_key.id AS group_client_key_id, group_client_key.group_id AS group_client_key_group_id, group_client_key.client_id AS group_client_key_client_id, group_client_key.device_id AS group_client_key_device_id, group_client_key.client_key AS group_client_key_client_key, group_client_key.created_at AS group_client_key_created_at, group_client_key.updated_at AS group_client_key_updated_at 
FROM group_client_key 
WHERE group_client_key.group_id = %(group_id_1)s AND group_client_key.client_id = %(client_id_1)s
2020-12-03 17:31:59,067 sqlalchemy.engine.base.Engine INFO {'group_id_1': 'd86083e3-9b8b-4fa2-aac9-b126d9ddfd91', 'client_id_1': '652b76ec-e689-4217-aee6-1e9b53e6b965'}
2020-12-03 17:31:59,076 sqlalchemy.engine.base.Engine INFO SELECT message.id AS message_id, message.group_id AS message_group_id, message.from_client_id AS message_from_client_id, message.client_id AS message_client_id, message.message AS message_message, message.created_at AS message_created_at, message.updated_at AS message_updated_at, message.deleted_at AS message_deleted_at 
FROM message 
WHERE message.group_id = %(group_id_1)s AND message.created_at > %(created_at_1)s ORDER BY message.created_at DESC
2020-12-03 17:31:59,077 sqlalchemy.engine.base.Engine INFO UPDATE group_client_key SET device_id=%(device_id)s, client_key=%(client_key)s, updated_at=%(updated_at)s WHERE group_client_key.id = %(group_client_key_id)s
2020-12-03 17:31:59,078 sqlalchemy.engine.base.Engine INFO {'group_id_1': '8cc9f4b4-defe-4996-8cc4-5c8bc02568b1', 'created_at_1': datetime.datetime(2020, 12, 3, 17, 30, 13, 970000)}
2020-12-03 17:31:59,078 sqlalchemy.engine.base.Engine INFO {'device_id': 763013978, 'client_key': <psycopg2.extensions.Binary object at 0x7f86f13dcfc0>, 'updated_at': datetime.datetime(2020, 12, 3, 17, 31, 59, 77825), 'group_client_key_id': 31}
2020-12-03 17:31:59,083 sqlalchemy.engine.base.Engine INFO COMMIT
